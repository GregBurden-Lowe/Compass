var ps=Object.defineProperty,xs=Object.defineProperties;var gs=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable;var ve=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),bs=e=>{throw TypeError(e)};var ft=(e,t,r)=>t in e?ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L=(e,t)=>{for(var r in t||(t={}))pt.call(t,r)&&ft(e,r,t[r]);if(Be)for(var r of Be(t))xt.call(t,r)&&ft(e,r,t[r]);return e},B=(e,t)=>xs(e,gs(t));var Ze=(e,t)=>{var r={};for(var n in e)pt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Be)for(var n of Be(e))t.indexOf(n)<0&&xt.call(e,n)&&(r[n]=e[n]);return r};var ys=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Y=(e,t,r)=>new Promise((n,o)=>{var a=l=>{try{m(r.next(l))}catch(i){o(i)}},c=l=>{try{m(r.throw(l))}catch(i){o(i)}},m=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,c);m((r=r.apply(e,t)).next())}),xe=function(e,t){this[0]=e,this[1]=t},et=(e,t,r)=>{var n=(c,m,l,i)=>{try{var d=r[c](m),u=(m=d.value)instanceof xe,f=d.done;Promise.resolve(u?m[0]:m).then(g=>u?n(c==="return"?c:"next",m[1]?{done:g.done,value:g.value}:g,l,i):l({value:g,done:f})).catch(g=>n("throw",g,l,i))}catch(g){i(g)}},o=c=>a[c]=m=>new Promise((l,i)=>n(c,m,l,i)),a={};return r=r.apply(e,t),a[ve("asyncIterator")]=()=>a,o("next"),o("throw"),o("return"),a},tt=e=>{var t=e[ve("asyncIterator")],r=!1,n,o={};return t==null?(t=e[ve("iterator")](),n=a=>o[a]=c=>t[a](c)):(t=t.call(e),n=a=>o[a]=c=>{if(r){if(r=!1,a==="throw")throw c;return c}return r=!0,{done:!1,value:new xe(new Promise(m=>{var l=t[a](c);l instanceof Object||bs("Object expected"),m(l)}),1)}}),o[ve("iterator")]=()=>o,n("next"),"throw"in t?n("throw"):o.throw=a=>{throw a},"return"in t&&n("return"),o},gt=(e,t,r)=>(t=e[ve("asyncIterator")])?t.call(e):(e=e[ve("iterator")](),t={},r=(n,o)=>(o=e[n])&&(t[n]=a=>new Promise((c,m,l)=>(a=o.call(e,a),l=a.done,Promise.resolve(a.value).then(i=>c({value:i,done:l}),m)))),r("next"),r("return"),t);import{j as s}from"./mui-BpRHmZTB.js";import{a as js,c as ws,g as vs,r as A,u as Ft,L as Ns,b as Te,d as Cs,R as Oe,e as Es,f as me,B as Ss}from"./vendor-BaIKwp6E.js";var $n=ys(he=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var at={},bt=js;at.createRoot=bt.createRoot,at.hydrateRoot=bt.hydrateRoot;var It={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ws,function(){var r=1e3,n=6e4,o=36e5,a="millisecond",c="second",m="minute",l="hour",i="day",d="week",u="month",f="quarter",g="year",h="date",b="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var v=["th","st","nd","rd"],y=E%100;return"["+E+(v[(y-20)%10]||v[y]||v[0])+"]"}},_=function(E,v,y){var C=String(E);return!C||C.length>=v?E:""+Array(v+1-C.length).join(y)+E},O={s:_,z:function(E){var v=-E.utcOffset(),y=Math.abs(v),C=Math.floor(y/60),j=y%60;return(v<=0?"+":"-")+_(C,2,"0")+":"+_(j,2,"0")},m:function E(v,y){if(v.date()<y.date())return-E(y,v);var C=12*(y.year()-v.year())+(y.month()-v.month()),j=v.clone().add(C,u),w=y-j<0,S=v.clone().add(C+(w?-1:1),u);return+(-(C+(y-j)/(w?j-S:S-j))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:u,y:g,w:d,d:i,D:h,h:l,m,s:c,ms:a,Q:f}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},D="en",F={};F[D]=T;var q="$isDayjsObject",oe=function(E){return E instanceof re||!(!E||!E[q])},ne=function E(v,y,C){var j;if(!v)return D;if(typeof v=="string"){var w=v.toLowerCase();F[w]&&(j=w),y&&(F[w]=y,j=w);var S=v.split("-");if(!j&&S.length>1)return E(S[0])}else{var N=v.name;F[N]=v,j=N}return!C&&j&&(D=j),j||!C&&D},$=function(E,v){if(oe(E))return E.clone();var y=typeof v=="object"?v:{};return y.date=E,y.args=arguments,new re(y)},k=O;k.l=ne,k.i=oe,k.w=function(E,v){return $(E,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var re=function(){function E(y){this.$L=ne(y.locale,null,!0),this.parse(y),this.$x=this.$x||y.x||{},this[q]=!0}var v=E.prototype;return v.parse=function(y){this.$d=function(C){var j=C.date,w=C.utc;if(j===null)return new Date(NaN);if(k.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var S=j.match(x);if(S){var N=S[2]-1||0,M=(S[7]||"0").substring(0,3);return w?new Date(Date.UTC(S[1],N,S[3]||1,S[4]||0,S[5]||0,S[6]||0,M)):new Date(S[1],N,S[3]||1,S[4]||0,S[5]||0,S[6]||0,M)}}return new Date(j)}(y),this.init()},v.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},v.$utils=function(){return k},v.isValid=function(){return this.$d.toString()!==b},v.isSame=function(y,C){var j=$(y);return this.startOf(C)<=j&&j<=this.endOf(C)},v.isAfter=function(y,C){return $(y)<this.startOf(C)},v.isBefore=function(y,C){return this.endOf(C)<$(y)},v.$g=function(y,C,j){return k.u(y)?this[C]:this.set(j,y)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(y,C){var j=this,w=!!k.u(C)||C,S=k.p(y),N=function(pe,ee){var ue=k.w(j.$u?Date.UTC(j.$y,ee,pe):new Date(j.$y,ee,pe),j);return w?ue:ue.endOf(i)},M=function(pe,ee){return k.w(j.toDate()[pe].apply(j.toDate("s"),(w?[0,0,0,0]:[23,59,59,999]).slice(ee)),j)},I=this.$W,U=this.$M,G=this.$D,we="set"+(this.$u?"UTC":"");switch(S){case g:return w?N(1,0):N(31,11);case u:return w?N(1,U):N(0,U+1);case d:var fe=this.$locale().weekStart||0,_e=(I<fe?I+7:I)-fe;return N(w?G-_e:G+(6-_e),U);case i:case h:return M(we+"Hours",0);case l:return M(we+"Minutes",1);case m:return M(we+"Seconds",2);case c:return M(we+"Milliseconds",3);default:return this.clone()}},v.endOf=function(y){return this.startOf(y,!1)},v.$set=function(y,C){var j,w=k.p(y),S="set"+(this.$u?"UTC":""),N=(j={},j[i]=S+"Date",j[h]=S+"Date",j[u]=S+"Month",j[g]=S+"FullYear",j[l]=S+"Hours",j[m]=S+"Minutes",j[c]=S+"Seconds",j[a]=S+"Milliseconds",j)[w],M=w===i?this.$D+(C-this.$W):C;if(w===u||w===g){var I=this.clone().set(h,1);I.$d[N](M),I.init(),this.$d=I.set(h,Math.min(this.$D,I.daysInMonth())).$d}else N&&this.$d[N](M);return this.init(),this},v.set=function(y,C){return this.clone().$set(y,C)},v.get=function(y){return this[k.p(y)]()},v.add=function(y,C){var j,w=this;y=Number(y);var S=k.p(C),N=function(U){var G=$(w);return k.w(G.date(G.date()+Math.round(U*y)),w)};if(S===u)return this.set(u,this.$M+y);if(S===g)return this.set(g,this.$y+y);if(S===i)return N(1);if(S===d)return N(7);var M=(j={},j[m]=n,j[l]=o,j[c]=r,j)[S]||1,I=this.$d.getTime()+y*M;return k.w(I,this)},v.subtract=function(y,C){return this.add(-1*y,C)},v.format=function(y){var C=this,j=this.$locale();if(!this.isValid())return j.invalidDate||b;var w=y||"YYYY-MM-DDTHH:mm:ssZ",S=k.z(this),N=this.$H,M=this.$m,I=this.$M,U=j.weekdays,G=j.months,we=j.meridiem,fe=function(ee,ue,Re,Ie){return ee&&(ee[ue]||ee(C,w))||Re[ue].slice(0,Ie)},_e=function(ee){return k.s(N%12||12,ee,"0")},pe=we||function(ee,ue,Re){var Ie=ee<12?"AM":"PM";return Re?Ie.toLowerCase():Ie};return w.replace(P,function(ee,ue){return ue||function(Re){switch(Re){case"YY":return String(C.$y).slice(-2);case"YYYY":return k.s(C.$y,4,"0");case"M":return I+1;case"MM":return k.s(I+1,2,"0");case"MMM":return fe(j.monthsShort,I,G,3);case"MMMM":return fe(G,I);case"D":return C.$D;case"DD":return k.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return fe(j.weekdaysMin,C.$W,U,2);case"ddd":return fe(j.weekdaysShort,C.$W,U,3);case"dddd":return U[C.$W];case"H":return String(N);case"HH":return k.s(N,2,"0");case"h":return _e(1);case"hh":return _e(2);case"a":return pe(N,M,!0);case"A":return pe(N,M,!1);case"m":return String(M);case"mm":return k.s(M,2,"0");case"s":return String(C.$s);case"ss":return k.s(C.$s,2,"0");case"SSS":return k.s(C.$ms,3,"0");case"Z":return S}return null}(ee)||S.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(y,C,j){var w,S=this,N=k.p(C),M=$(y),I=(M.utcOffset()-this.utcOffset())*n,U=this-M,G=function(){return k.m(S,M)};switch(N){case g:w=G()/12;break;case u:w=G();break;case f:w=G()/3;break;case d:w=(U-I)/6048e5;break;case i:w=(U-I)/864e5;break;case l:w=U/o;break;case m:w=U/n;break;case c:w=U/r;break;default:w=U}return j?w:k.a(w)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return F[this.$L]},v.locale=function(y,C){if(!y)return this.$L;var j=this.clone(),w=ne(y,C,!0);return w&&(j.$L=w),j},v.clone=function(){return k.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},E}(),X=re.prototype;return $.prototype=X,[["$ms",a],["$s",c],["$m",m],["$H",l],["$W",i],["$M",u],["$y",g],["$D",h]].forEach(function(E){X[E[1]]=function(v){return this.$g(v,E[0],E[1])}}),$.extend=function(E,v){return E.$i||(E(v,re,$),E.$i=!0),$},$.locale=ne,$.isDayjs=oe,$.unix=function(E){return $(1e3*E)},$.en=F[D],$.Ls=F,$.p={},$})})(It);var _s=It.exports;const ce=vs(_s);function Bt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rs}=Object.prototype,{getPrototypeOf:dt}=Object,{iterator:Ve,toStringTag:Ut}=Symbol,Je=(e=>t=>{const r=Rs.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ae=e=>(e=e.toLowerCase(),t=>Je(t)===e),Qe=e=>t=>typeof t===e,{isArray:Ee}=Array,Ce=Qe("undefined");function Le(e){return e!==null&&!Ce(e)&&e.constructor!==null&&!Ce(e.constructor)&&te(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zt=ae("ArrayBuffer");function As(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zt(e.buffer),t}const ks=Qe("string"),te=Qe("function"),Ht=Qe("number"),De=e=>e!==null&&typeof e=="object",Ms=e=>e===!0||e===!1,ze=e=>{if(Je(e)!=="object")return!1;const t=dt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ut in e)&&!(Ve in e)},Os=e=>{if(!De(e)||Le(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},Ps=ae("Date"),Ts=ae("File"),Ls=ae("Blob"),Ds=ae("FileList"),$s=e=>De(e)&&te(e.pipe),Fs=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||te(e.append)&&((t=Je(e))==="formdata"||t==="object"&&te(e.toString)&&e.toString()==="[object FormData]"))},Is=ae("URLSearchParams"),[Bs,Us,zs,Hs]=["ReadableStream","Request","Response","Headers"].map(ae),qs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $e(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e=="undefined")return;let n,o;if(typeof e!="object"&&(e=[e]),Ee(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Le(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let m;for(n=0;n<c;n++)m=a[n],t.call(null,e[m],m,e)}}function qt(e,t){if(Le(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const ge=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Wt=e=>!Ce(e)&&e!==ge;function ot(){const{caseless:e,skipUndefined:t}=Wt(this)&&this||{},r={},n=(o,a)=>{const c=e&&qt(r,a)||a;ze(r[c])&&ze(o)?r[c]=ot(r[c],o):ze(o)?r[c]=ot({},o):Ee(o)?r[c]=o.slice():(!t||!Ce(o))&&(r[c]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&$e(arguments[o],n);return r}const Ws=(e,t,r,{allOwnKeys:n}={})=>($e(t,(o,a)=>{r&&te(o)?e[a]=Bt(o,r):e[a]=o},{allOwnKeys:n}),e),Ys=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vs=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Js=(e,t,r,n)=>{let o,a,c;const m={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)c=o[a],(!n||n(c,e,t))&&!m[c]&&(t[c]=e[c],m[c]=!0);e=r!==!1&&dt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Qs=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Ks=e=>{if(!e)return null;if(Ee(e))return e;let t=e.length;if(!Ht(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Xs=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&dt(Uint8Array)),Gs=(e,t)=>{const n=(e&&e[Ve]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},Zs=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},er=ae("HTMLFormElement"),tr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),yt=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),sr=ae("RegExp"),Yt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};$e(r,(o,a)=>{let c;(c=t(o,a,e))!==!1&&(n[a]=c||o)}),Object.defineProperties(e,n)},rr=e=>{Yt(e,(t,r)=>{if(te(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(te(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nr=(e,t)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return Ee(e)?n(e):n(String(e).split(t)),r},ar=()=>{},or=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ir(e){return!!(e&&te(e.append)&&e[Ut]==="FormData"&&e[Ve])}const lr=e=>{const t=new Array(10),r=(n,o)=>{if(De(n)){if(t.indexOf(n)>=0)return;if(Le(n))return n;if(!("toJSON"in n)){t[o]=n;const a=Ee(n)?[]:{};return $e(n,(c,m)=>{const l=r(c,o+1);!Ce(l)&&(a[m]=l)}),t[o]=void 0,a}}return n};return r(e,0)},cr=ae("AsyncFunction"),dr=e=>e&&(De(e)||te(e))&&te(e.then)&&te(e.catch),Vt=((e,t)=>e?setImmediate:t?((r,n)=>(ge.addEventListener("message",({source:o,data:a})=>{o===ge&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),ge.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",te(ge.postMessage)),ur=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ge):typeof process!="undefined"&&process.nextTick||Vt,mr=e=>e!=null&&te(e[Ve]),p={isArray:Ee,isArrayBuffer:zt,isBuffer:Le,isFormData:Fs,isArrayBufferView:As,isString:ks,isNumber:Ht,isBoolean:Ms,isObject:De,isPlainObject:ze,isEmptyObject:Os,isReadableStream:Bs,isRequest:Us,isResponse:zs,isHeaders:Hs,isUndefined:Ce,isDate:Ps,isFile:Ts,isBlob:Ls,isRegExp:sr,isFunction:te,isStream:$s,isURLSearchParams:Is,isTypedArray:Xs,isFileList:Ds,forEach:$e,merge:ot,extend:Ws,trim:qs,stripBOM:Ys,inherits:Vs,toFlatObject:Js,kindOf:Je,kindOfTest:ae,endsWith:Qs,toArray:Ks,forEachEntry:Gs,matchAll:Zs,isHTMLForm:er,hasOwnProperty:yt,hasOwnProp:yt,reduceDescriptors:Yt,freezeMethods:rr,toObjectSet:nr,toCamelCase:tr,noop:ar,toFiniteNumber:or,findKey:qt,global:ge,isContextDefined:Wt,isSpecCompliantForm:ir,toJSONObject:lr,isAsyncFn:cr,isThenable:dr,setImmediate:Vt,asap:ur,isIterable:mr};function R(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}p.inherits(R,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const Jt=R.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qt[e]={value:e}});Object.defineProperties(R,Qt);Object.defineProperty(Jt,"isAxiosError",{value:!0});R.from=(e,t,r,n,o,a)=>{const c=Object.create(Jt);p.toFlatObject(e,c,function(d){return d!==Error.prototype},i=>i!=="isAxiosError");const m=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return R.call(c,m,l,r,n,o),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",a&&Object.assign(c,a),c};const hr=null;function it(e){return p.isPlainObject(e)||p.isArray(e)}function Kt(e){return p.endsWith(e,"[]")?e.slice(0,-2):e}function jt(e,t,r){return e?e.concat(t).map(function(o,a){return o=Kt(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function fr(e){return p.isArray(e)&&!e.some(it)}const pr=p.toFlatObject(p,{},null,function(t){return/^is[A-Z]/.test(t)});function Ke(e,t,r){if(!p.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=p.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!p.isUndefined(x[b])});const n=r.metaTokens,o=r.visitor||d,a=r.dots,c=r.indexes,l=(r.Blob||typeof Blob!="undefined"&&Blob)&&p.isSpecCompliantForm(t);if(!p.isFunction(o))throw new TypeError("visitor must be a function");function i(h){if(h===null)return"";if(p.isDate(h))return h.toISOString();if(p.isBoolean(h))return h.toString();if(!l&&p.isBlob(h))throw new R("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(h)||p.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,b,x){let P=h;if(h&&!x&&typeof h=="object"){if(p.endsWith(b,"{}"))b=n?b:b.slice(0,-2),h=JSON.stringify(h);else if(p.isArray(h)&&fr(h)||(p.isFileList(h)||p.endsWith(b,"[]"))&&(P=p.toArray(h)))return b=Kt(b),P.forEach(function(_,O){!(p.isUndefined(_)||_===null)&&t.append(c===!0?jt([b],O,a):c===null?b:b+"[]",i(_))}),!1}return it(h)?!0:(t.append(jt(x,b,a),i(h)),!1)}const u=[],f=Object.assign(pr,{defaultVisitor:d,convertValue:i,isVisitable:it});function g(h,b){if(!p.isUndefined(h)){if(u.indexOf(h)!==-1)throw Error("Circular reference detected in "+b.join("."));u.push(h),p.forEach(h,function(P,T){(!(p.isUndefined(P)||P===null)&&o.call(t,P,p.isString(T)?T.trim():T,b,f))===!0&&g(P,b?b.concat(T):[T])}),u.pop()}}if(!p.isObject(e))throw new TypeError("data must be an object");return g(e),t}function wt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ut(e,t){this._pairs=[],e&&Ke(e,this,t)}const Xt=ut.prototype;Xt.append=function(t,r){this._pairs.push([t,r])};Xt.toString=function(t){const r=t?function(n){return t.call(this,n,wt)}:wt;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function xr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gt(e,t,r){if(!t)return e;const n=r&&r.encode||xr;p.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(t,r):a=p.isURLSearchParams(t)?t.toString():new ut(t,r).toString(n),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class vt{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){p.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gr=typeof URLSearchParams!="undefined"?URLSearchParams:ut,br=typeof FormData!="undefined"?FormData:null,yr=typeof Blob!="undefined"?Blob:null,jr={isBrowser:!0,classes:{URLSearchParams:gr,FormData:br,Blob:yr},protocols:["http","https","file","blob","url","data"]},mt=typeof window!="undefined"&&typeof document!="undefined",lt=typeof navigator=="object"&&navigator||void 0,wr=mt&&(!lt||["ReactNative","NativeScript","NS"].indexOf(lt.product)<0),vr=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Nr=mt&&window.location.href||"http://localhost",Cr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mt,hasStandardBrowserEnv:wr,hasStandardBrowserWebWorkerEnv:vr,navigator:lt,origin:Nr},Symbol.toStringTag,{value:"Module"})),V=L(L({},Cr),jr);function Er(e,t){return Ke(e,new V.classes.URLSearchParams,L({visitor:function(r,n,o,a){return V.isNode&&p.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Sr(e){return p.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _r(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}function es(e){function t(r,n,o,a){let c=r[a++];if(c==="__proto__")return!0;const m=Number.isFinite(+c),l=a>=r.length;return c=!c&&p.isArray(o)?o.length:c,l?(p.hasOwnProp(o,c)?o[c]=[o[c],n]:o[c]=n,!m):((!o[c]||!p.isObject(o[c]))&&(o[c]=[]),t(r,n,o[c],a)&&p.isArray(o[c])&&(o[c]=_r(o[c])),!m)}if(p.isFormData(e)&&p.isFunction(e.entries)){const r={};return p.forEachEntry(e,(n,o)=>{t(Sr(n),o,r,0)}),r}return null}function Rr(e,t,r){if(p.isString(e))try{return(t||JSON.parse)(e),p.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Fe={transitional:Zt,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=p.isObject(t);if(a&&p.isHTMLForm(t)&&(t=new FormData(t)),p.isFormData(t))return o?JSON.stringify(es(t)):t;if(p.isArrayBuffer(t)||p.isBuffer(t)||p.isStream(t)||p.isFile(t)||p.isBlob(t)||p.isReadableStream(t))return t;if(p.isArrayBufferView(t))return t.buffer;if(p.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Er(t,this.formSerializer).toString();if((m=p.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ke(m?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),Rr(t)):t}],transformResponse:[function(t){const r=this.transitional||Fe.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(p.isResponse(t)||p.isReadableStream(t))return t;if(t&&p.isString(t)&&(n&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(m){if(c)throw m.name==="SyntaxError"?R.from(m,R.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:V.classes.FormData,Blob:V.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],e=>{Fe.headers[e]={}});const Ar=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kr=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),n=c.substring(o+1).trim(),!(!r||t[r]&&Ar[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Nt=Symbol("internals");function Ae(e){return e&&String(e).trim().toLowerCase()}function He(e){return e===!1||e==null?e:p.isArray(e)?e.map(He):String(e)}function Mr(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Or=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function st(e,t,r,n,o){if(p.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!p.isString(t)){if(p.isString(n))return t.indexOf(n)!==-1;if(p.isRegExp(n))return n.test(t)}}function Pr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Tr(e,t){const r=p.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,a,c){return this[n].call(this,t,o,a,c)},configurable:!0})})}let se=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function a(m,l,i){const d=Ae(l);if(!d)throw new Error("header name must be a non-empty string");const u=p.findKey(o,d);(!u||o[u]===void 0||i===!0||i===void 0&&o[u]!==!1)&&(o[u||l]=He(m))}const c=(m,l)=>p.forEach(m,(i,d)=>a(i,d,l));if(p.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(p.isString(t)&&(t=t.trim())&&!Or(t))c(kr(t),r);else if(p.isObject(t)&&p.isIterable(t)){let m={},l,i;for(const d of t){if(!p.isArray(d))throw TypeError("Object iterator must return a key-value pair");m[i=d[0]]=(l=m[i])?p.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}c(m,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Ae(t),t){const n=p.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return Mr(o);if(p.isFunction(r))return r.call(this,o,n);if(p.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ae(t),t){const n=p.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||st(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function a(c){if(c=Ae(c),c){const m=p.findKey(n,c);m&&(!r||st(n,n[m],m,r))&&(delete n[m],o=!0)}}return p.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!t||st(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,n={};return p.forEach(this,(o,a)=>{const c=p.findKey(n,a);if(c){r[c]=He(o),delete r[a];return}const m=t?Pr(a):String(a).trim();m!==a&&delete r[a],r[m]=He(o),n[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return p.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&p.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Nt]=this[Nt]={accessors:{}}).accessors,o=this.prototype;function a(c){const m=Ae(c);n[m]||(Tr(o,c),n[m]=!0)}return p.isArray(t)?t.forEach(a):a(t),this}};se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(se.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});p.freezeMethods(se);function rt(e,t){const r=this||Fe,n=t||r,o=se.from(n.headers);let a=n.data;return p.forEach(e,function(m){a=m.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function ts(e){return!!(e&&e.__CANCEL__)}function Se(e,t,r){R.call(this,e==null?"canceled":e,R.ERR_CANCELED,t,r),this.name="CanceledError"}p.inherits(Se,R,{__CANCEL__:!0});function ss(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new R("Request failed with status code "+r.status,[R.ERR_BAD_REQUEST,R.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Lr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Dr(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,a=0,c;return t=t!==void 0?t:1e3,function(l){const i=Date.now(),d=n[a];c||(c=i),r[o]=l,n[o]=i;let u=a,f=0;for(;u!==o;)f+=r[u++],u=u%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),i-c<t)return;const g=d&&i-d;return g?Math.round(f*1e3/g):void 0}}function $r(e,t){let r=0,n=1e3/t,o,a;const c=(i,d=Date.now())=>{r=d,o=null,a&&(clearTimeout(a),a=null),e(...i)};return[(...i)=>{const d=Date.now(),u=d-r;u>=n?c(i,d):(o=i,a||(a=setTimeout(()=>{a=null,c(o)},n-u)))},()=>o&&c(o)]}const We=(e,t,r=3)=>{let n=0;const o=Dr(50,250);return $r(a=>{const c=a.loaded,m=a.lengthComputable?a.total:void 0,l=c-n,i=o(l),d=c<=m;n=c;const u={loaded:c,total:m,progress:m?c/m:void 0,bytes:l,rate:i||void 0,estimated:i&&m&&d?(m-c)/i:void 0,event:a,lengthComputable:m!=null,[t?"download":"upload"]:!0};e(u)},r)},Ct=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Et=e=>(...t)=>p.asap(()=>e(...t)),Fr=V.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,V.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(V.origin),V.navigator&&/(msie|trident)/i.test(V.navigator.userAgent)):()=>!0,Ir=V.hasStandardBrowserEnv?{write(e,t,r,n,o,a,c){if(typeof document=="undefined")return;const m=[`${e}=${encodeURIComponent(t)}`];p.isNumber(r)&&m.push(`expires=${new Date(r).toUTCString()}`),p.isString(n)&&m.push(`path=${n}`),p.isString(o)&&m.push(`domain=${o}`),a===!0&&m.push("secure"),p.isString(c)&&m.push(`SameSite=${c}`),document.cookie=m.join("; ")},read(e){if(typeof document=="undefined")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Br(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ur(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rs(e,t,r){let n=!Br(t);return e&&(n||r==!1)?Ur(e,t):t}const St=e=>e instanceof se?L({},e):e;function ye(e,t){t=t||{};const r={};function n(i,d,u,f){return p.isPlainObject(i)&&p.isPlainObject(d)?p.merge.call({caseless:f},i,d):p.isPlainObject(d)?p.merge({},d):p.isArray(d)?d.slice():d}function o(i,d,u,f){if(p.isUndefined(d)){if(!p.isUndefined(i))return n(void 0,i,u,f)}else return n(i,d,u,f)}function a(i,d){if(!p.isUndefined(d))return n(void 0,d)}function c(i,d){if(p.isUndefined(d)){if(!p.isUndefined(i))return n(void 0,i)}else return n(void 0,d)}function m(i,d,u){if(u in t)return n(i,d);if(u in e)return n(void 0,i)}const l={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:m,headers:(i,d,u)=>o(St(i),St(d),u,!0)};return p.forEach(Object.keys(L(L({},e),t)),function(d){const u=l[d]||o,f=u(e[d],t[d],d);p.isUndefined(f)&&u!==m||(r[d]=f)}),r}const ns=e=>{const t=ye({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:m}=t;if(t.headers=c=se.from(c),t.url=Gt(rs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),m&&c.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),p.isFormData(r)){if(V.hasStandardBrowserEnv||V.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(p.isFunction(r.getHeaders)){const l=r.getHeaders(),i=["content-type","content-length"];Object.entries(l).forEach(([d,u])=>{i.includes(d.toLowerCase())&&c.set(d,u)})}}if(V.hasStandardBrowserEnv&&(n&&p.isFunction(n)&&(n=n(t)),n||n!==!1&&Fr(t.url))){const l=o&&a&&Ir.read(a);l&&c.set(o,l)}return t},zr=typeof XMLHttpRequest!="undefined",Hr=zr&&function(e){return new Promise(function(r,n){const o=ns(e);let a=o.data;const c=se.from(o.headers).normalize();let{responseType:m,onUploadProgress:l,onDownloadProgress:i}=o,d,u,f,g,h;function b(){g&&g(),h&&h(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function P(){if(!x)return;const _=se.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),D={data:!m||m==="text"||m==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:e,request:x};ss(function(q){r(q),b()},function(q){n(q),b()},D),x=null}"onloadend"in x?x.onloadend=P:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(P)},x.onabort=function(){x&&(n(new R("Request aborted",R.ECONNABORTED,e,x)),x=null)},x.onerror=function(O){const D=O&&O.message?O.message:"Network Error",F=new R(D,R.ERR_NETWORK,e,x);F.event=O||null,n(F),x=null},x.ontimeout=function(){let O=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const D=o.transitional||Zt;o.timeoutErrorMessage&&(O=o.timeoutErrorMessage),n(new R(O,D.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,e,x)),x=null},a===void 0&&c.setContentType(null),"setRequestHeader"in x&&p.forEach(c.toJSON(),function(O,D){x.setRequestHeader(D,O)}),p.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),m&&m!=="json"&&(x.responseType=o.responseType),i&&([f,h]=We(i,!0),x.addEventListener("progress",f)),l&&x.upload&&([u,g]=We(l),x.upload.addEventListener("progress",u),x.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(d=_=>{x&&(n(!_||_.type?new Se(null,e,x):_),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const T=Lr(o.url);if(T&&V.protocols.indexOf(T)===-1){n(new R("Unsupported protocol "+T+":",R.ERR_BAD_REQUEST,e));return}x.send(a||null)})},qr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const a=function(i){if(!o){o=!0,m();const d=i instanceof Error?i:this.reason;n.abort(d instanceof R?d:new Se(d instanceof Error?d.message:d))}};let c=t&&setTimeout(()=>{c=null,a(new R(`timeout ${t} of ms exceeded`,R.ETIMEDOUT))},t);const m=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(i=>{i.unsubscribe?i.unsubscribe(a):i.removeEventListener("abort",a)}),e=null)};e.forEach(i=>i.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>p.asap(m),l}},Wr=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},Yr=function(e,t){return et(this,null,function*(){try{for(var r=gt(Vr(e)),n,o,a;n=!(o=yield new xe(r.next())).done;n=!1){const c=o.value;yield*tt(Wr(c,t))}}catch(o){a=[o]}finally{try{n&&(o=r.return)&&(yield new xe(o.call(r)))}finally{if(a)throw a[0]}}})},Vr=function(e){return et(this,null,function*(){if(e[Symbol.asyncIterator]){yield*tt(e);return}const t=e.getReader();try{for(;;){const{done:r,value:n}=yield new xe(t.read());if(r)break;yield n}}finally{yield new xe(t.cancel())}})},_t=(e,t,r,n)=>{const o=Yr(e,t);let a=0,c,m=i=>{c||(c=!0,n&&n(i))};return new ReadableStream({pull(i){return Y(this,null,function*(){try{const{done:d,value:u}=yield o.next();if(d){m(),i.close();return}let f=u.byteLength;if(r){let g=a+=f;r(g)}i.enqueue(new Uint8Array(u))}catch(d){throw m(d),d}})},cancel(i){return m(i),o.return()}},{highWaterMark:2})},Rt=64*1024,{isFunction:Ue}=p,Jr=(({Request:e,Response:t})=>({Request:e,Response:t}))(p.global),{ReadableStream:At,TextEncoder:kt}=p.global,Mt=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},Qr=e=>{e=p.merge.call({skipUndefined:!0},Jr,e);const{fetch:t,Request:r,Response:n}=e,o=t?Ue(t):typeof fetch=="function",a=Ue(r),c=Ue(n);if(!o)return!1;const m=o&&Ue(At),l=o&&(typeof kt=="function"?(h=>b=>h.encode(b))(new kt):h=>Y(he,null,function*(){return new Uint8Array(yield new r(h).arrayBuffer())})),i=a&&m&&Mt(()=>{let h=!1;const b=new r(V.origin,{body:new At,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!b}),d=c&&m&&Mt(()=>p.isReadableStream(new n("").body)),u={stream:d&&(h=>h.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!u[h]&&(u[h]=(b,x)=>{let P=b&&b[h];if(P)return P.call(b);throw new R(`Response type '${h}' is not supported`,R.ERR_NOT_SUPPORT,x)})});const f=h=>Y(he,null,function*(){if(h==null)return 0;if(p.isBlob(h))return h.size;if(p.isSpecCompliantForm(h))return(yield new r(V.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(p.isArrayBufferView(h)||p.isArrayBuffer(h))return h.byteLength;if(p.isURLSearchParams(h)&&(h=h+""),p.isString(h))return(yield l(h)).byteLength}),g=(h,b)=>Y(he,null,function*(){const x=p.toFiniteNumber(h.getContentLength());return x==null?f(b):x});return h=>Y(he,null,function*(){let{url:b,method:x,data:P,signal:T,cancelToken:_,timeout:O,onDownloadProgress:D,onUploadProgress:F,responseType:q,headers:oe,withCredentials:ne="same-origin",fetchOptions:$}=ns(h),k=t||fetch;q=q?(q+"").toLowerCase():"text";let re=qr([T,_&&_.toAbortSignal()],O),X=null;const E=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let v;try{if(F&&i&&x!=="get"&&x!=="head"&&(v=yield g(oe,P))!==0){let N=new r(b,{method:"POST",body:P,duplex:"half"}),M;if(p.isFormData(P)&&(M=N.headers.get("content-type"))&&oe.setContentType(M),N.body){const[I,U]=Ct(v,We(Et(F)));P=_t(N.body,Rt,I,U)}}p.isString(ne)||(ne=ne?"include":"omit");const y=a&&"credentials"in r.prototype,C=B(L({},$),{signal:re,method:x.toUpperCase(),headers:oe.normalize().toJSON(),body:P,duplex:"half",credentials:y?ne:void 0});X=a&&new r(b,C);let j=yield a?k(X,$):k(b,C);const w=d&&(q==="stream"||q==="response");if(d&&(D||w&&E)){const N={};["status","statusText","headers"].forEach(G=>{N[G]=j[G]});const M=p.toFiniteNumber(j.headers.get("content-length")),[I,U]=D&&Ct(M,We(Et(D),!0))||[];j=new n(_t(j.body,Rt,I,()=>{U&&U(),E&&E()}),N)}q=q||"text";let S=yield u[p.findKey(u,q)||"text"](j,h);return!w&&E&&E(),yield new Promise((N,M)=>{ss(N,M,{data:S,headers:se.from(j.headers),status:j.status,statusText:j.statusText,config:h,request:X})})}catch(y){throw E&&E(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new R("Network Error",R.ERR_NETWORK,h,X),{cause:y.cause||y}):R.from(y,y&&y.code,h,X)}})},Kr=new Map,as=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:o}=t,a=[n,o,r];let c=a.length,m=c,l,i,d=Kr;for(;m--;)l=a[m],i=d.get(l),i===void 0&&d.set(l,i=m?new Map:Qr(t)),d=i;return i};as();const ht={http:hr,xhr:Hr,fetch:{get:as}};p.forEach(ht,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const Ot=e=>`- ${e}`,Xr=e=>p.isFunction(e)||e===null||e===!1;function Gr(e,t){e=p.isArray(e)?e:[e];const{length:r}=e;let n,o;const a={};for(let c=0;c<r;c++){n=e[c];let m;if(o=n,!Xr(n)&&(o=ht[(m=String(n)).toLowerCase()],o===void 0))throw new R(`Unknown adapter '${m}'`);if(o&&(p.isFunction(o)||(o=o.get(t))))break;a[m||"#"+c]=o}if(!o){const c=Object.entries(a).map(([l,i])=>`adapter ${l} `+(i===!1?"is not supported by the environment":"is not available in the build"));let m=r?c.length>1?`since :
`+c.map(Ot).join(`
`):" "+Ot(c[0]):"as no adapter specified";throw new R("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const os={getAdapter:Gr,adapters:ht};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Se(null,e)}function Pt(e){return nt(e),e.headers=se.from(e.headers),e.data=rt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),os.getAdapter(e.adapter||Fe.adapter,e)(e).then(function(n){return nt(e),n.data=rt.call(e,e.transformResponse,n),n.headers=se.from(n.headers),n},function(n){return ts(n)||(nt(e),n&&n.response&&(n.response.data=rt.call(e,e.transformResponse,n.response),n.response.headers=se.from(n.response.headers))),Promise.reject(n)})}const is="1.13.2",Xe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Tt={};Xe.transitional=function(t,r,n){function o(a,c){return"[Axios v"+is+"] Transitional option '"+a+"'"+c+(n?". "+n:"")}return(a,c,m)=>{if(t===!1)throw new R(o(c," has been removed"+(r?" in "+r:"")),R.ERR_DEPRECATED);return r&&!Tt[c]&&(Tt[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,c,m):!0}};Xe.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Zr(e,t,r){if(typeof e!="object")throw new R("options must be an object",R.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],c=t[a];if(c){const m=e[a],l=m===void 0||c(m,a,e);if(l!==!0)throw new R("option "+a+" must be "+l,R.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new R("Unknown option "+a,R.ERR_BAD_OPTION)}}const qe={assertOptions:Zr,validators:Xe},ie=qe.validators;let be=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vt,response:new vt}}request(t,r){return Y(this,null,function*(){try{return yield this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch(c){}}throw n}})}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ye(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&qe.assertOptions(n,{silentJSONParsing:ie.transitional(ie.boolean),forcedJSONParsing:ie.transitional(ie.boolean),clarifyTimeoutError:ie.transitional(ie.boolean)},!1),o!=null&&(p.isFunction(o)?r.paramsSerializer={serialize:o}:qe.assertOptions(o,{encode:ie.function,serialize:ie.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qe.assertOptions(r,{baseUrl:ie.spelling("baseURL"),withXsrfToken:ie.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&p.merge(a.common,a[r.method]);a&&p.forEach(["delete","get","head","post","put","patch","common"],h=>{delete a[h]}),r.headers=se.concat(c,a);const m=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(l=l&&b.synchronous,m.unshift(b.fulfilled,b.rejected))});const i=[];this.interceptors.response.forEach(function(b){i.push(b.fulfilled,b.rejected)});let d,u=0,f;if(!l){const h=[Pt.bind(this),void 0];for(h.unshift(...m),h.push(...i),f=h.length,d=Promise.resolve(r);u<f;)d=d.then(h[u++],h[u++]);return d}f=m.length;let g=r;for(;u<f;){const h=m[u++],b=m[u++];try{g=h(g)}catch(x){b.call(this,x);break}}try{d=Pt.call(this,g)}catch(h){return Promise.reject(h)}for(u=0,f=i.length;u<f;)d=d.then(i[u++],i[u++]);return d}getUri(t){t=ye(this.defaults,t);const r=rs(t.baseURL,t.url,t.allowAbsoluteUrls);return Gt(r,t.params,t.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(t){be.prototype[t]=function(r,n){return this.request(ye(n||{},{method:t,url:r,data:(n||{}).data}))}});p.forEach(["post","put","patch"],function(t){function r(n){return function(a,c,m){return this.request(ye(m||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}be.prototype[t]=r(),be.prototype[t+"Form"]=r(!0)});let en=class ls{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(m=>{n.subscribe(m),a=m}).then(o);return c.cancel=function(){n.unsubscribe(a)},c},t(function(a,c,m){n.reason||(n.reason=new Se(a,c,m),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ls(function(o){t=o}),cancel:t}}};function tn(e){return function(r){return e.apply(null,r)}}function sn(e){return p.isObject(e)&&e.isAxiosError===!0}const ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ct).forEach(([e,t])=>{ct[t]=e});function cs(e){const t=new be(e),r=Bt(be.prototype.request,t);return p.extend(r,be.prototype,t,{allOwnKeys:!0}),p.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return cs(ye(e,o))},r}const z=cs(Fe);z.Axios=be;z.CanceledError=Se;z.CancelToken=en;z.isCancel=ts;z.VERSION=is;z.toFormData=Ke;z.AxiosError=R;z.Cancel=z.CanceledError;z.all=function(t){return Promise.all(t)};z.spread=tn;z.isAxiosError=sn;z.mergeConfig=ye;z.AxiosHeaders=se;z.formToJSON=e=>es(p.isHTMLForm(e)?new FormData(e):e);z.getAdapter=os.getAdapter;z.HttpStatusCode=ct;z.default=z;const{Axios:Hn,AxiosError:qn,CanceledError:Wn,isCancel:Yn,CancelToken:Vn,VERSION:Jn,all:Qn,Cancel:Kn,isAxiosError:Xn,spread:Gn,toFormData:Zn,AxiosHeaders:ea,HttpStatusCode:ta,formToJSON:sa,getAdapter:ra,mergeConfig:na}=z,rn="/api",nn=rn,W=z.create({baseURL:nn});W.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers=B(L({},e.headers),{Authorization:`Bearer ${t}`})),e});W.interceptors.response.use(e=>e,e=>{var r;return((r=e==null?void 0:e.response)==null?void 0:r.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("name"),localStorage.removeItem("userId"),typeof window!="undefined"&&window.location.pathname!=="/"&&window.location.assign("/")),Promise.reject(e)});const ds=A.createContext(void 0),an=({children:e})=>{const[t,r]=A.useState({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!1});A.useEffect(()=>{Y(he,null,function*(){const m=localStorage.getItem("token"),l=localStorage.getItem("role"),i=localStorage.getItem("name"),d=localStorage.getItem("userId");if(m)try{const u=yield W.get("/auth/me",{headers:{Authorization:`Bearer ${m}`}}),f=u.data.role;localStorage.setItem("role",f),localStorage.setItem("name",u.data.full_name),localStorage.setItem("userId",u.data.id),r({token:m,role:f,name:u.data.full_name,userId:u.data.id,mustChangePassword:!!u.data.must_change_password,ready:!0});return}catch(u){localStorage.clear(),r({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!0});return}(l||i||d)&&localStorage.clear(),r({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!0})})},[]);const n=()=>Y(he,null,function*(){const c=localStorage.getItem("token");if(!c)return;const m=yield W.get("/auth/me",{headers:{Authorization:`Bearer ${c}`}}),l=m.data.role;localStorage.setItem("role",l),localStorage.setItem("name",m.data.full_name),localStorage.setItem("userId",m.data.id),r({token:c,role:l,name:m.data.full_name,userId:m.data.id,mustChangePassword:!!m.data.must_change_password,ready:!0})}),o=(c,m,l,i)=>Y(he,null,function*(){const d=yield W.post("/auth/token",{email:c,password:m,mfa_code:l,recovery_code:i}),u=d.data.access_token;localStorage.setItem("token",u);const f=yield W.get("/auth/me",{headers:{Authorization:`Bearer ${u}`}}),g=f.data.role;return localStorage.setItem("role",g),localStorage.setItem("name",f.data.full_name),localStorage.setItem("userId",f.data.id),r({token:u,role:g,name:f.data.full_name,userId:f.data.id,mustChangePassword:!!f.data.must_change_password,ready:!0}),d.data}),a=()=>{localStorage.clear(),r({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!0})};return s.jsx(ds.Provider,{value:B(L({},t),{login:o,logout:a,refreshMe:n}),children:e})},Ge=()=>{const e=A.useContext(ds);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function Ne({to:e,icon:t,label:r,badge:n}){const a=Ft().pathname===e;return s.jsxs(Ns,{to:e,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition ${a?"bg-app text-text-primary":"text-text-secondary hover:bg-app hover:text-text-primary"}`,children:[s.jsx("span",{className:"h-5 w-5",children:t}),s.jsx("span",{className:"flex-1",children:r}),n!==void 0&&n>0&&s.jsx("span",{className:"ml-auto inline-flex h-5 min-w-5 items-center justify-center rounded-full bg-app px-1 text-[11px] font-semibold text-text-secondary border border-border",children:n})]})}function on(){var r,n;const{user:e,logout:t}=Ge();return s.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-surface border-r border-border px-6 py-6 flex flex-col gap-6 overflow-y-auto scrollbar-thin",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-brand flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"C"})}),s.jsx("span",{className:"text-lg font-semibold text-text-primary",children:"Compass"})]}),s.jsxs("nav",{className:"flex flex-col gap-1",children:[s.jsx(Ne,{to:"/",icon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),label:"Dashboard"}),s.jsx(Ne,{to:"/complaints",icon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),label:"Complaints"}),s.jsx(Ne,{to:"/create",icon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),label:"New Complaint"}),(e==null?void 0:e.role)!=="read_only"&&s.jsx(Ne,{to:"/reference",icon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),label:"Reference Data"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="complaints_manager")&&s.jsx(Ne,{to:"/users",icon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),label:"Users"}),s.jsx(Ne,{to:"/settings",icon:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),label:"Settings"})]}),s.jsxs("div",{className:"mt-auto pt-6 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-app flex items-center justify-center text-text-primary font-semibold text-sm",children:((r=e==null?void 0:e.full_name)==null?void 0:r.charAt(0))||"U"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-text-primary truncate",children:e==null?void 0:e.full_name}),s.jsx("div",{className:"text-xs text-text-muted truncate capitalize",children:(n=e==null?void 0:e.role)==null?void 0:n.replace("_"," ")})]})]}),s.jsxs("button",{onClick:t,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-text-secondary hover:bg-app hover:text-text-primary transition",children:[s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s.jsx("span",{children:"Sign out"})]})]})]})}function ln({children:e}){return s.jsxs("div",{className:"min-h-screen bg-app text-text-primary",children:[s.jsx(on,{}),s.jsx("div",{className:"ml-64 min-h-screen flex flex-col",children:e})]})}function le(a){var c=a,{variant:e="primary",size:t="md",className:r="",children:n}=c,o=Ze(c,["variant","size","className","children"]);const m="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 focus-visible:ring-offset-app disabled:opacity-40 disabled:pointer-events-none",l={sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm"},i={primary:"bg-brand text-white hover:opacity-90 active:translate-y-px",secondary:"bg-surface text-text-primary border border-border hover:bg-app active:translate-y-px",ghost:"bg-transparent text-text-primary hover:bg-app active:translate-y-px",icon:"h-10 w-10 p-0 rounded-full hover:bg-app active:translate-y-px"};return s.jsx("button",B(L({className:`${m} ${l[t]} ${i[e]} ${r}`},o),{children:n}))}function H(o){var a=o,{error:e,leadingIcon:t,className:r=""}=a,n=Ze(a,["error","leadingIcon","className"]);const c="w-full h-10 rounded-lg border bg-surface px-3 text-sm text-text-primary placeholder:text-text-muted outline-none transition",m=e?"border-semantic-error focus:border-semantic-error focus:ring-2 focus:ring-semantic-error/15":"border-border focus:border-brand focus:ring-2 focus:ring-brand/15",l=t?"pl-10":"px-3";return s.jsxs("div",{className:"relative",children:[t&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-text-muted",children:t}),s.jsx("input",L({className:`${c} ${m} ${l} ${r}`},n))]})}function J({children:e,className:t="",onClick:r,selected:n,inverse:o}){const a="rounded-card border shadow-card p-4",c=o?"bg-brand text-white border-transparent":"bg-surface text-text-primary border-border",m=n?"ring-2 ring-brand/15":"",l=r?"cursor-pointer hover:shadow-sm active:translate-y-px transition":"";return s.jsx("div",{className:`${a} ${c} ${m} ${l} ${t}`,onClick:r,children:e})}function Q({children:e,className:t=""}){return s.jsx("div",{className:`flex items-start justify-between gap-3 ${t}`,children:e})}function K({children:e,className:t="",inverse:r}){const n=r?"text-white":"text-text-primary";return s.jsx("h3",{className:`text-sm font-semibold ${n} ${t}`,children:e})}function Z({children:e,className:t="",inverse:r}){const n=r?"text-white/80":"text-text-secondary";return s.jsx("div",{className:`mt-2 text-xs leading-relaxed ${n} ${t}`,children:e})}function cn({open:e,onClose:t,children:r}){return A.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:t}),s.jsx("div",{className:"fixed left-1/2 top-1/2 w-[min(560px,calc(100%-2rem))] -translate-x-1/2 -translate-y-1/2 rounded-modal border border-border bg-surface p-6 shadow-xl z-50",children:r})]}):null}function dn({children:e,onClose:t}){return s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:e}),t&&s.jsx("button",{onClick:t,className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-text-muted hover:bg-app hover:text-text-primary transition",children:s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function un({children:e}){return s.jsx("div",{className:"text-sm text-text-secondary",children:e})}function mn({children:e}){return s.jsx("div",{className:"mt-6 flex justify-end gap-3",children:e})}function hn({children:e,className:t=""}){return s.jsx("div",{className:`overflow-hidden rounded-card border border-border bg-surface ${t}`,children:s.jsx("table",{className:"w-full table-auto",children:e})})}function fn({children:e}){return s.jsx("thead",{className:"bg-app",children:e})}function pn({children:e}){return s.jsx("tbody",{children:e})}function Lt({children:e,onClick:t,className:r=""}){const n=t?"cursor-pointer hover:bg-app/60":"hover:bg-app/60";return s.jsx("tr",{className:`border-t border-border ${n} ${r}`,onClick:t,children:e})}function ke({children:e,className:t=""}){return s.jsx("th",{className:`h-10 px-4 text-left text-xs font-semibold text-text-secondary ${t}`,children:e})}function Me({children:e,className:t=""}){return s.jsx("td",{className:`h-12 px-4 text-sm text-text-primary ${t}`,children:e})}function de({title:e,actions:t}){return s.jsxs("div",{className:"h-16 px-10 flex items-center justify-between gap-6 bg-app border-b border-border",children:[e?s.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:e}):s.jsx("div",{className:"w-full max-w-md",children:s.jsx(H,{type:"search",placeholder:"Search complaints...",leadingIcon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),s.jsx("div",{className:"flex items-center gap-3",children:t})]})}function xn(){const e=Te(),{userId:t,token:r}=Ge(),[n,o]=A.useState(null),[a,c]=A.useState([]),[m,l]=A.useState("mine"),[i,d]=A.useState(!1);A.useEffect(()=>{r&&W.get("/complaints/metrics",{params:{_:Date.now()}}).then(f=>o(f.data)).catch(f=>{var g;((g=f==null?void 0:f.response)==null?void 0:g.status)!==401&&console.error("Failed to load dashboard metrics",f)})},[r]),A.useEffect(()=>{if(!t||!r)return;Y(this,null,function*(){var g;d(!0);try{let h=[];m==="mine"?h=((yield W.get("/complaints",{params:{handler_id:t,page:1,page_size:50,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed"):m==="unassigned"?h=((yield W.get("/complaints",{params:{page:1,page_size:100,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed").filter(x=>!x.assigned_handler_id):m==="breached"?h=((yield W.get("/complaints",{params:{overdue:!0,page:1,page_size:100,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed"):m==="oldest"&&(h=((yield W.get("/complaints",{params:{page:1,page_size:100,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed"),h.sort((x,P)=>ce(x.received_at).valueOf()-ce(P.received_at).valueOf()),h=h.slice(0,20)),c(h)}catch(h){if(((g=h==null?void 0:h.response)==null?void 0:g.status)===401)return;console.error("Failed to load queue",h)}finally{d(!1)}})},[t,r,m]);const u=f=>f===null?"N/A":`${Math.round(f)}%`;return s.jsxs(s.Fragment,{children:[s.jsx(de,{actions:s.jsxs(le,{variant:"primary",onClick:()=>e("/create"),children:[s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"New Complaint"]})}),s.jsxs("div",{className:"px-10 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"Open Cases"}),s.jsx("div",{className:"mt-3 text-3xl font-semibold text-text-primary",children:(n==null?void 0:n.kpis.open)||0}),s.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"Total open complaints"})]}),s.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"My Open"}),s.jsx("div",{className:"mt-3 text-3xl font-semibold text-text-primary",children:(n==null?void 0:n.kpis.my_open)||0}),s.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"Assigned to me"})]}),s.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"SLA Breaches"}),s.jsx("div",{className:"mt-3 text-3xl font-semibold text-semantic-error",children:(n==null?void 0:n.kpis.open_sla_breaches)||0}),s.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"Open breaches"})]}),s.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"Stale (21d+)"}),s.jsx("div",{className:"mt-3 text-3xl font-semibold text-semantic-warning",children:(n==null?void 0:n.kpis.open_stale_21d)||0}),s.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"No activity"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Acknowledgement SLA (30d)"})}),s.jsx(Z,{children:s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-text-secondary",children:"On-time rate"}),s.jsx("span",{className:"text-sm font-semibold text-text-primary",children:u((n==null?void 0:n.sla_30d.ack.on_time_pct)||null)})]}),s.jsx("div",{className:"w-full h-2 bg-app rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-semantic-success",style:{width:`${(n==null?void 0:n.sla_30d.ack.on_time_pct)||0}%`}})}),s.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:[(n==null?void 0:n.sla_30d.ack.on_time)||0," / ",(n==null?void 0:n.sla_30d.ack.total)||0," on time"]})]})})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Final Response SLA (30d)"})}),s.jsx(Z,{children:s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-text-secondary",children:"On-time rate"}),s.jsx("span",{className:"text-sm font-semibold text-text-primary",children:u((n==null?void 0:n.sla_30d.final.on_time_pct)||null)})]}),s.jsx("div",{className:"w-full h-2 bg-app rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-semantic-success",style:{width:`${(n==null?void 0:n.sla_30d.final.on_time_pct)||0}%`}})}),s.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:[(n==null?void 0:n.sla_30d.final.on_time)||0," / ",(n==null?void 0:n.sla_30d.final.total)||0," on time"]})]})})]})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"My Queue"})}),s.jsx("div",{className:"mt-4 border-b border-border",children:s.jsx("div",{className:"flex gap-1 px-4",children:["mine","unassigned","breached","oldest"].map(f=>s.jsx("button",{onClick:()=>l(f),className:`px-4 py-2 text-sm font-medium capitalize transition border-b-2 ${m===f?"border-brand text-text-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:f},f))})}),s.jsx("div",{className:"p-4",children:i?s.jsx("div",{className:"text-center py-8 text-text-muted",children:"Loading..."}):a.length===0?s.jsx("div",{className:"text-center py-8 text-text-muted",children:"No complaints in this queue"}):s.jsx("div",{className:"space-y-2",children:a.map(f=>s.jsxs("div",{onClick:()=>e(`/complaints/${f.id}`),className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-app cursor-pointer transition",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold text-text-primary truncate",children:f.reference}),s.jsx("div",{className:"text-xs text-text-secondary truncate mt-1",children:f.description||"No description"})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[s.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:ce(f.received_at).format("MMM D")}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-lg text-xs font-medium ${f.status==="New"?"bg-semantic-info/10 text-semantic-info":f.status==="Acknowledged"?"bg-semantic-success/10 text-semantic-success":"bg-app text-text-secondary"}`,children:f.status})]})]},f.id))})})]})]})]})}function us({status:e,className:t=""}){const r=n=>{switch(n){case"New":return"bg-semantic-info/10 text-semantic-info border-semantic-info/20";case"Acknowledged":return"bg-semantic-success/10 text-semantic-success border-semantic-success/20";case"In Investigation":return"bg-blue-50 text-blue-700 border-blue-200";case"Response Drafted":return"bg-purple-50 text-purple-700 border-purple-200";case"Awaiting Customer":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"Escalated":return"bg-semantic-warning/10 text-semantic-warning border-semantic-warning/20";case"Closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-app text-text-secondary border-border"}};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-lg text-xs font-medium border ${r(e)} ${t}`,children:e})}function gn(){const e=Te(),[t,r]=A.useState([]),[n,o]=A.useState(!0),[a,c]=A.useState("");A.useEffect(()=>{W.get("/complaints",{params:{page:1,page_size:100}}).then(l=>{r(l.data||[]),o(!1)}).catch(l=>{console.error("Failed to load complaints",l),o(!1)})},[]);const m=t.filter(l=>{var i;return l.reference.toLowerCase().includes(a.toLowerCase())||((i=l.description)==null?void 0:i.toLowerCase().includes(a.toLowerCase()))});return s.jsxs(s.Fragment,{children:[s.jsx(de,{title:"Complaints"}),s.jsxs("div",{className:"px-10 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-full max-w-md",children:s.jsx(H,{type:"search",placeholder:"Search complaints...",value:a,onChange:l=>c(l.target.value),leadingIcon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),s.jsxs(le,{variant:"primary",onClick:()=>e("/create"),children:[s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"New Complaint"]})]}),n?s.jsx("div",{className:"text-center py-12 text-text-muted",children:"Loading complaints..."}):s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(Lt,{children:[s.jsx(ke,{children:"Reference"}),s.jsx(ke,{children:"Status"}),s.jsx(ke,{children:"Description"}),s.jsx(ke,{children:"Received"}),s.jsx(ke,{children:"Handler"})]})}),s.jsx(pn,{children:m.map(l=>s.jsxs(Lt,{onClick:()=>e(`/complaints/${l.id}`),children:[s.jsx(Me,{children:s.jsx("span",{className:"font-semibold",children:l.reference})}),s.jsx(Me,{children:s.jsx(us,{status:l.status})}),s.jsx(Me,{children:s.jsx("span",{className:"truncate max-w-md block",children:l.description||"No description"})}),s.jsx(Me,{children:s.jsx("span",{className:"text-text-muted",children:ce(l.received_at).format("MMM D, YYYY")})}),s.jsx(Me,{children:s.jsx("span",{className:"text-text-muted",children:l.assigned_handler_name||"Unassigned"})})]},l.id))})]}),!n&&m.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"No complaints found"}),s.jsx("p",{className:"mt-1 text-sm text-text-secondary",children:"Try adjusting your search"})]})]})]})}function bn(){const{id:e}=Cs(),t=Te(),[r,n]=A.useState(null),[o,a]=A.useState(!0);return A.useEffect(()=>{e&&W.get(`/complaints/${e}`).then(c=>{n(c.data),a(!1)}).catch(c=>{console.error("Failed to load complaint",c),a(!1)})},[e]),o?s.jsxs(s.Fragment,{children:[s.jsx(de,{title:"Loading..."}),s.jsx("div",{className:"px-10 py-6",children:s.jsx("div",{className:"text-center py-12 text-text-muted",children:"Loading complaint details..."})})]}):r?s.jsxs(s.Fragment,{children:[s.jsx(de,{title:r.reference,actions:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(us,{status:r.status}),s.jsx(le,{variant:"secondary",onClick:()=>t("/complaints"),children:"Back"})]})}),s.jsx("div",{className:"px-10 py-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Complaint Details"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-text-primary",children:r.description||"No description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Category"}),s.jsx("p",{className:"text-sm text-text-primary",children:r.category||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Reason"}),s.jsx("p",{className:"text-sm text-text-primary",children:r.reason||"N/A"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Product"}),s.jsx("p",{className:"text-sm text-text-primary",children:r.product||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Scheme"}),s.jsx("p",{className:"text-sm text-text-primary",children:r.scheme||"N/A"})]})]})]})})]}),r.complainant&&s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Complainant"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx("p",{className:"text-sm text-text-primary font-medium",children:r.complainant.full_name}),s.jsx("p",{className:"text-sm text-text-secondary",children:r.complainant.email}),s.jsx("p",{className:"text-sm text-text-secondary",children:r.complainant.phone})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Timeline"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Received"}),s.jsx("p",{className:"text-sm text-text-primary",children:ce(r.received_at).format("MMM D, YYYY h:mm A")})]}),r.acknowledged_at&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Acknowledged"}),s.jsx("p",{className:"text-sm text-text-primary",children:ce(r.acknowledged_at).format("MMM D, YYYY h:mm A")})]}),r.closed_at&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Closed"}),s.jsx("p",{className:"text-sm text-text-primary",children:ce(r.closed_at).format("MMM D, YYYY h:mm A")})]})]})})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Assignment"})}),s.jsx(Z,{children:s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Handler"}),s.jsx("p",{className:"text-sm text-text-primary",children:r.assigned_handler_name||"Unassigned"})]})})]})]})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(de,{title:"Not Found"}),s.jsx("div",{className:"px-10 py-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"Complaint not found"}),s.jsx(le,{variant:"secondary",onClick:()=>t("/complaints"),className:"mt-4",children:"Back to Complaints"})]})})]})}function yn(){const e=Te(),[t,r]=A.useState(!1),[n,o]=A.useState(null),[a,c]=A.useState({source:"Email",received_at:ce().format("YYYY-MM-DDTHH:mm"),description:"",category:"",reason:"",fca_complaint:!1,fca_rationale:"",vulnerability_flag:!1,vulnerability_notes:"",policy_number:"",insurer:"",broker:"",product:"",scheme:"",complainant_name:"",complainant_email:"",complainant_phone:"",complainant_address:""}),m=i=>{c(B(L({},a),{[i]:!a[i]}))},l=i=>Y(this,null,function*(){var d,u;i.preventDefault(),o(null),r(!0);try{const f=yield W.post("/complaints",{source:a.source,received_at:ce(a.received_at).toISOString(),description:a.description,category:a.category,reason:a.reason||null,fca_complaint:a.fca_complaint,fca_rationale:a.fca_rationale||null,vulnerability_flag:a.vulnerability_flag,vulnerability_notes:a.vulnerability_notes||null,policy_number:a.policy_number||null,insurer:a.insurer||null,broker:a.broker||null,product:a.product||null,scheme:a.scheme||null,complainant:{full_name:a.complainant_name,email:a.complainant_email||null,phone:a.complainant_phone||null,address:a.complainant_address||null},policy:{policy_number:a.policy_number||null,insurer:a.insurer||null,broker:a.broker||null,product:a.product||null,scheme:a.scheme||null}});e(`/complaints/${f.data.id}`)}catch(f){o(((u=(d=f==null?void 0:f.response)==null?void 0:d.data)==null?void 0:u.detail)||"Failed to create complaint"),r(!1)}});return s.jsxs(s.Fragment,{children:[s.jsx(de,{title:"Create New Complaint"}),s.jsxs("div",{className:"px-10 py-6 max-w-4xl",children:[n&&s.jsx("div",{className:"mb-6 rounded-lg border border-semantic-error/30 bg-semantic-error/5 p-3 text-sm text-semantic-error",children:n}),s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Receipt Information"})}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Source *"}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border bg-surface px-3 text-sm text-text-primary outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/15",value:a.source,onChange:i=>c(B(L({},a),{source:i.target.value})),required:!0,children:[s.jsx("option",{value:"Email",children:"Email"}),s.jsx("option",{value:"Phone",children:"Phone"}),s.jsx("option",{value:"Letter",children:"Letter"}),s.jsx("option",{value:"Web Form",children:"Web Form"}),s.jsx("option",{value:"In Person",children:"In Person"}),s.jsx("option",{value:"Social Media",children:"Social Media"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Date Received *"}),s.jsx(H,{type:"datetime-local",value:a.received_at,onChange:i=>c(B(L({},a),{received_at:i.target.value})),required:!0})]})]})})})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Complaint Details"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Description *"}),s.jsx("textarea",{className:"w-full min-h-[120px] rounded-lg border border-border bg-surface px-3 py-2 text-sm text-text-primary placeholder:text-text-muted outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/15",value:a.description,onChange:i=>c(B(L({},a),{description:i.target.value})),placeholder:"Detailed description of the complaint...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Category *"}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border bg-surface px-3 text-sm text-text-primary outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/15",value:a.category,onChange:i=>c(B(L({},a),{category:i.target.value})),required:!0,children:[s.jsx("option",{value:"",children:"Select category..."}),s.jsx("option",{value:"Claims",children:"Claims"}),s.jsx("option",{value:"Policy",children:"Policy"}),s.jsx("option",{value:"Service",children:"Service"}),s.jsx("option",{value:"Premium",children:"Premium"}),s.jsx("option",{value:"Communication",children:"Communication"}),s.jsx("option",{value:"Sales",children:"Sales"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Reason"}),s.jsx(H,{value:a.reason,onChange:i=>c(B(L({},a),{reason:i.target.value})),placeholder:"Specific reason..."})]})]})]})})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"FCA & Vulnerability"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.fca_complaint,onChange:()=>m("fca_complaint"),className:"h-4 w-4 rounded border-border text-brand focus:ring-2 focus:ring-brand/15"}),s.jsx("span",{className:"text-sm font-medium text-text-primary",children:"FCA Reportable Complaint"})]}),a.fca_complaint&&s.jsxs("div",{className:"pl-7 space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"FCA Rationale"}),s.jsx("textarea",{className:"w-full min-h-[80px] rounded-lg border border-border bg-surface px-3 py-2 text-sm text-text-primary placeholder:text-text-muted outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/15",value:a.fca_rationale,onChange:i=>c(B(L({},a),{fca_rationale:i.target.value})),placeholder:"Rationale for FCA reporting..."})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.vulnerability_flag,onChange:()=>m("vulnerability_flag"),className:"h-4 w-4 rounded border-border text-brand focus:ring-2 focus:ring-brand/15"}),s.jsx("span",{className:"text-sm font-medium text-text-primary",children:"Vulnerable Customer"})]}),a.vulnerability_flag&&s.jsxs("div",{className:"pl-7 space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Vulnerability Notes"}),s.jsx("textarea",{className:"w-full min-h-[80px] rounded-lg border border-border bg-surface px-3 py-2 text-sm text-text-primary placeholder:text-text-muted outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/15",value:a.vulnerability_notes,onChange:i=>c(B(L({},a),{vulnerability_notes:i.target.value})),placeholder:"Details about vulnerability..."})]})]})]})})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Policy Information"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Policy Number"}),s.jsx(H,{value:a.policy_number,onChange:i=>c(B(L({},a),{policy_number:i.target.value})),placeholder:"POL-12345"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Product"}),s.jsx(H,{value:a.product,onChange:i=>c(B(L({},a),{product:i.target.value})),placeholder:"Product type..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Insurer"}),s.jsx(H,{value:a.insurer,onChange:i=>c(B(L({},a),{insurer:i.target.value})),placeholder:"Insurer name..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Broker"}),s.jsx(H,{value:a.broker,onChange:i=>c(B(L({},a),{broker:i.target.value})),placeholder:"Broker name..."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Scheme"}),s.jsx(H,{value:a.scheme,onChange:i=>c(B(L({},a),{scheme:i.target.value})),placeholder:"Scheme name..."})]})]})})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Complainant Details"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Full Name *"}),s.jsx(H,{value:a.complainant_name,onChange:i=>c(B(L({},a),{complainant_name:i.target.value})),placeholder:"John Doe",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Email"}),s.jsx(H,{type:"email",value:a.complainant_email,onChange:i=>c(B(L({},a),{complainant_email:i.target.value})),placeholder:"john@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Phone"}),s.jsx(H,{value:a.complainant_phone,onChange:i=>c(B(L({},a),{complainant_phone:i.target.value})),placeholder:"+44 20 1234 5678"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Address"}),s.jsx("textarea",{className:"w-full min-h-[80px] rounded-lg border border-border bg-surface px-3 py-2 text-sm text-text-primary placeholder:text-text-muted outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/15",value:a.complainant_address,onChange:i=>c(B(L({},a),{complainant_address:i.target.value})),placeholder:"Full address..."})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 sticky bottom-6 bg-app/95 backdrop-blur-sm p-4 rounded-lg border border-border",children:[s.jsx(le,{variant:"secondary",onClick:()=>e("/complaints"),type:"button",children:"Cancel"}),s.jsx(le,{variant:"primary",type:"submit",disabled:t,children:t?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Complaint"})]})]})]})]})}function jn(){return s.jsxs(s.Fragment,{children:[s.jsx(de,{title:"User Management"}),s.jsx("div",{className:"px-10 py-6",children:s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Users"})}),s.jsx(Z,{children:s.jsx("p",{className:"text-sm text-text-secondary mt-4",children:"User management interface - to be implemented"})})]})})]})}function wn(){return s.jsxs(s.Fragment,{children:[s.jsx(de,{title:"Reference Data"}),s.jsx("div",{className:"px-10 py-6",children:s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Reference Data Management"})}),s.jsx(Z,{children:s.jsx("p",{className:"text-sm text-text-secondary mt-4",children:"Reference data management - to be implemented"})})]})})]})}function Dt(){var f;const{user:e}=Ge(),[t,r]=A.useState(""),[n,o]=A.useState(""),[a,c]=A.useState(""),[m,l]=A.useState(null),[i,d]=A.useState(!1),u=g=>Y(this,null,function*(){var h,b;if(g.preventDefault(),l(null),n!==a){l({type:"error",text:"New passwords do not match"});return}if(n.length<8){l({type:"error",text:"Password must be at least 8 characters"});return}d(!0);try{yield W.post("/auth/change-password",{current_password:t,new_password:n}),l({type:"success",text:"Password changed successfully"}),r(""),o(""),c("")}catch(x){l({type:"error",text:((b=(h=x==null?void 0:x.response)==null?void 0:h.data)==null?void 0:b.detail)||"Failed to change password"})}finally{d(!1)}});return s.jsxs(s.Fragment,{children:[s.jsx(de,{title:"Profile & Settings"}),s.jsxs("div",{className:"px-10 py-6 max-w-2xl",children:[s.jsxs(J,{className:"mb-6",children:[s.jsx(Q,{children:s.jsx(K,{children:"User Information"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Name"}),s.jsx("div",{className:"text-sm text-text-primary",children:e==null?void 0:e.full_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Email"}),s.jsx("div",{className:"text-sm text-text-primary",children:e==null?void 0:e.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Role"}),s.jsx("div",{className:"text-sm text-text-primary capitalize",children:(f=e==null?void 0:e.role)==null?void 0:f.replace("_"," ")})]})]})})]}),s.jsxs(J,{children:[s.jsx(Q,{children:s.jsx(K,{children:"Change Password"})}),s.jsxs(Z,{children:[m&&s.jsx("div",{className:`mt-4 rounded-lg border p-3 text-sm ${m.type==="success"?"border-semantic-success/30 bg-semantic-success/5 text-semantic-success":"border-semantic-error/30 bg-semantic-error/5 text-semantic-error"}`,children:m.text}),s.jsxs("form",{onSubmit:u,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Current Password"}),s.jsx(H,{type:"password",value:t,onChange:g=>r(g.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"New Password"}),s.jsx(H,{type:"password",value:n,onChange:g=>o(g.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Confirm New Password"}),s.jsx(H,{type:"password",value:a,onChange:g=>c(g.target.value),required:!0})]}),s.jsx(le,{type:"submit",variant:"primary",disabled:i,children:i?"Changing...":"Change Password"})]})]})]})]})]})}var vn=Object.defineProperty,Ye=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable,$t=(e,t,r)=>t in e?vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nn=(e,t)=>{for(var r in t||(t={}))ms.call(t,r)&&$t(e,r,t[r]);if(Ye)for(var r of Ye(t))hs.call(t,r)&&$t(e,r,t[r]);return e},Cn=(e,t)=>{var r={};for(var n in e)ms.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ye)for(var n of Ye(e))t.indexOf(n)<0&&hs.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var je;(e=>{const t=class{constructor(l,i,d,u){if(this.version=l,this.errorCorrectionLevel=i,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let h=0;h<this.size;h++)f.push(!1);for(let h=0;h<this.size;h++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),u==-1){let h=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const x=this.getPenaltyScore();x<h&&(u=b,h=x),this.applyMask(b)}}a(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}static encodeText(l,i){const d=e.QrSegment.makeSegments(l);return t.encodeSegments(d,i)}static encodeBinary(l,i){const d=e.QrSegment.makeBytes(l);return t.encodeSegments([d],i)}static encodeSegments(l,i,d=1,u=40,f=-1,g=!0){if(!(t.MIN_VERSION<=d&&d<=u&&u<=t.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let h,b;for(h=d;;h++){const _=t.getNumDataCodewords(h,i)*8,O=m.getTotalBits(l,h);if(O<=_){b=O;break}if(h>=u)throw new RangeError("Data too long")}for(const _ of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])g&&b<=t.getNumDataCodewords(h,_)*8&&(i=_);let x=[];for(const _ of l){n(_.mode.modeBits,4,x),n(_.numChars,_.mode.numCharCountBits(h),x);for(const O of _.getData())x.push(O)}a(x.length==b);const P=t.getNumDataCodewords(h,i)*8;a(x.length<=P),n(0,Math.min(4,P-x.length),x),n(0,(8-x.length%8)%8,x),a(x.length%8==0);for(let _=236;x.length<P;_^=253)n(_,8,x);let T=[];for(;T.length*8<x.length;)T.push(0);return x.forEach((_,O)=>T[O>>>3]|=_<<7-(O&7)),new t(h,i,T,f)}getModule(l,i){return 0<=l&&l<this.size&&0<=i&&i<this.size&&this.modules[i][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),i=l.length;for(let d=0;d<i;d++)for(let u=0;u<i;u++)d==0&&u==0||d==0&&u==i-1||d==i-1&&u==0||this.drawAlignmentPattern(l[d],l[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const i=this.errorCorrectionLevel.formatBits<<3|l;let d=i;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const u=(i<<10|d)^21522;a(u>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,o(u,f));this.setFunctionModule(8,7,o(u,6)),this.setFunctionModule(8,8,o(u,7)),this.setFunctionModule(7,8,o(u,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,o(u,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,o(u,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,o(u,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const i=this.version<<12|l;a(i>>>18==0);for(let d=0;d<18;d++){const u=o(i,d),f=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(f,g,u),this.setFunctionModule(g,f,u)}}drawFinderPattern(l,i){for(let d=-4;d<=4;d++)for(let u=-4;u<=4;u++){const f=Math.max(Math.abs(u),Math.abs(d)),g=l+u,h=i+d;0<=g&&g<this.size&&0<=h&&h<this.size&&this.setFunctionModule(g,h,f!=2&&f!=4)}}drawAlignmentPattern(l,i){for(let d=-2;d<=2;d++)for(let u=-2;u<=2;u++)this.setFunctionModule(l+u,i+d,Math.max(Math.abs(u),Math.abs(d))!=1)}setFunctionModule(l,i,d){this.modules[i][l]=d,this.isFunction[i][l]=!0}addEccAndInterleave(l){const i=this.version,d=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(i,d))throw new RangeError("Invalid argument");const u=t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][i],f=t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][i],g=Math.floor(t.getNumRawDataModules(i)/8),h=u-g%u,b=Math.floor(g/u);let x=[];const P=t.reedSolomonComputeDivisor(f);for(let _=0,O=0;_<u;_++){let D=l.slice(O,O+b-f+(_<h?0:1));O+=D.length;const F=t.reedSolomonComputeRemainder(D,P);_<h&&D.push(0),x.push(D.concat(F))}let T=[];for(let _=0;_<x[0].length;_++)x.forEach((O,D)=>{(_!=b-f||D>=h)&&T.push(O[_])});return a(T.length==g),T}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let i=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let u=0;u<this.size;u++)for(let f=0;f<2;f++){const g=d-f,b=(d+1&2)==0?this.size-1-u:u;!this.isFunction[b][g]&&i<l.length*8&&(this.modules[b][g]=o(l[i>>>3],7-(i&7)),i++)}}a(i==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let i=0;i<this.size;i++)for(let d=0;d<this.size;d++){let u;switch(l){case 0:u=(d+i)%2==0;break;case 1:u=i%2==0;break;case 2:u=d%3==0;break;case 3:u=(d+i)%3==0;break;case 4:u=(Math.floor(d/3)+Math.floor(i/2))%2==0;break;case 5:u=d*i%2+d*i%3==0;break;case 6:u=(d*i%2+d*i%3)%2==0;break;case 7:u=((d+i)%2+d*i%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[i][d]&&u&&(this.modules[i][d]=!this.modules[i][d])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let g=!1,h=0,b=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[f][x]==g?(h++,h==5?l+=t.PENALTY_N1:h>5&&l++):(this.finderPenaltyAddHistory(h,b),g||(l+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),g=this.modules[f][x],h=1);l+=this.finderPenaltyTerminateAndCount(g,h,b)*t.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,h=0,b=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][f]==g?(h++,h==5?l+=t.PENALTY_N1:h>5&&l++):(this.finderPenaltyAddHistory(h,b),g||(l+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),g=this.modules[x][f],h=1);l+=this.finderPenaltyTerminateAndCount(g,h,b)*t.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const h=this.modules[f][g];h==this.modules[f][g+1]&&h==this.modules[f+1][g]&&h==this.modules[f+1][g+1]&&(l+=t.PENALTY_N2)}let i=0;for(const f of this.modules)i=f.reduce((g,h)=>g+(h?1:0),i);const d=this.size*this.size,u=Math.ceil(Math.abs(i*20-d*10)/d)-1;return a(0<=u&&u<=9),l+=u*t.PENALTY_N4,a(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,i=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let u=this.size-7;d.length<l;u-=i)d.splice(1,0,u);return d}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let i=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;i-=(25*d-10)*d-55,l>=7&&(i-=36)}return a(208<=i&&i<=29648),i}static getNumDataCodewords(l,i){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[i.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let i=[];for(let u=0;u<l-1;u++)i.push(0);i.push(1);let d=1;for(let u=0;u<l;u++){for(let f=0;f<i.length;f++)i[f]=t.reedSolomonMultiply(i[f],d),f+1<i.length&&(i[f]^=i[f+1]);d=t.reedSolomonMultiply(d,2)}return i}static reedSolomonComputeRemainder(l,i){let d=i.map(u=>0);for(const u of l){const f=u^d.shift();d.push(0),i.forEach((g,h)=>d[h]^=t.reedSolomonMultiply(g,f))}return d}static reedSolomonMultiply(l,i){if(l>>>8||i>>>8)throw new RangeError("Byte out of range");let d=0;for(let u=7;u>=0;u--)d=d<<1^(d>>>7)*285,d^=(i>>>u&1)*l;return a(d>>>8==0),d}finderPenaltyCountPatterns(l){const i=l[1];a(i<=this.size*3);const d=i>0&&l[2]==i&&l[3]==i*3&&l[4]==i&&l[5]==i;return(d&&l[0]>=i*4&&l[6]>=i?1:0)+(d&&l[6]>=i*4&&l[0]>=i?1:0)}finderPenaltyTerminateAndCount(l,i,d){return l&&(this.finderPenaltyAddHistory(i,d),i=0),i+=this.size,this.finderPenaltyAddHistory(i,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,i){i[0]==0&&(l+=this.size),i.pop(),i.unshift(l)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(l,i,d){if(i<0||i>31||l>>>i)throw new RangeError("Value out of range");for(let u=i-1;u>=0;u--)d.push(l>>>u&1)}function o(l,i){return(l>>>i&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const c=class{constructor(l,i,d){if(this.mode=l,this.numChars=i,this.bitData=d,i<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let i=[];for(const d of l)n(d,8,i);return new c(c.Mode.BYTE,l.length,i)}static makeNumeric(l){if(!c.isNumeric(l))throw new RangeError("String contains non-numeric characters");let i=[];for(let d=0;d<l.length;){const u=Math.min(l.length-d,3);n(parseInt(l.substr(d,u),10),u*3+1,i),d+=u}return new c(c.Mode.NUMERIC,l.length,i)}static makeAlphanumeric(l){if(!c.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let i=[],d;for(d=0;d+2<=l.length;d+=2){let u=c.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;u+=c.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(u,11,i)}return d<l.length&&n(c.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,i),new c(c.Mode.ALPHANUMERIC,l.length,i)}static makeSegments(l){return l==""?[]:c.isNumeric(l)?[c.makeNumeric(l)]:c.isAlphanumeric(l)?[c.makeAlphanumeric(l)]:[c.makeBytes(c.toUtf8ByteArray(l))]}static makeEci(l){let i=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,i);else if(l<16384)n(2,2,i),n(l,14,i);else if(l<1e6)n(6,3,i),n(l,21,i);else throw new RangeError("ECI assignment value out of range");return new c(c.Mode.ECI,0,i)}static isNumeric(l){return c.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return c.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,i){let d=0;for(const u of l){const f=u.mode.numCharCountBits(i);if(u.numChars>=1<<f)return 1/0;d+=4+f+u.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let i=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?i.push(l.charCodeAt(d)):(i.push(parseInt(l.substr(d+1,2),16)),d+=2);return i}};let m=c;m.NUMERIC_REGEX=/^[0-9]*$/,m.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,m.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=m})(je||(je={}));(e=>{(t=>{const r=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(je||(je={}));(e=>{(t=>{const r=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(je||(je={}));var Pe=je;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var En={L:Pe.QrCode.Ecc.LOW,M:Pe.QrCode.Ecc.MEDIUM,Q:Pe.QrCode.Ecc.QUARTILE,H:Pe.QrCode.Ecc.HIGH},Sn=128,_n="L",Rn="#FFFFFF",An="#000000",kn=!1,fs=4,Mn=.1;function On(e,t=0){const r=[];return e.forEach(function(n,o){let a=null;n.forEach(function(c,m){if(!c&&a!==null){r.push(`M${a+t} ${o+t}h${m-a}v1H${a+t}z`),a=null;return}if(m===n.length-1){if(!c)return;a===null?r.push(`M${m+t},${o+t} h1v1H${m+t}z`):r.push(`M${a+t},${o+t} h${m+1-a}v1H${a+t}z`);return}c&&a===null&&(a=m)})}),r.join("")}function Pn(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((o,a)=>a<t.x||a>=t.x+t.w?o:!1))}function Tn(e,t,r,n){if(n==null)return null;const o=r?fs:0,a=e.length+o*2,c=Math.floor(t*Mn),m=a/t,l=(n.width||c)*m,i=(n.height||c)*m,d=n.x==null?e.length/2-l/2:n.x*m,u=n.y==null?e.length/2-i/2:n.y*m;let f=null;if(n.excavate){let g=Math.floor(d),h=Math.floor(u),b=Math.ceil(l+d-g),x=Math.ceil(i+u-h);f={x:g,y:h,w:b,h:x}}return{x:d,y:u,h:i,w:l,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0})();function Ln(e){const t=e,{value:r,size:n=Sn,level:o=_n,bgColor:a=Rn,fgColor:c=An,includeMargin:m=kn,imageSettings:l}=t,i=Cn(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=Pe.QrCode.encodeText(r,En[o]).getModules();const u=m?fs:0,f=d.length+u*2,g=Tn(d,n,m,l);let h=null;l!=null&&g!=null&&(g.excavation!=null&&(d=Pn(d,g.excavation)),h=Oe.createElement("image",{xlinkHref:l.src,height:g.h,width:g.w,x:g.x+u,y:g.y+u,preserveAspectRatio:"none"}));const b=On(d,u);return Oe.createElement("svg",Nn({height:n,width:n,viewBox:`0 0 ${f} ${f}`},i),Oe.createElement("path",{fill:a,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),Oe.createElement("path",{fill:c,d:b,shapeRendering:"crispEdges"}),h)}function Dn(){const{token:e,role:t,name:r,login:n,logout:o,mustChangePassword:a,ready:c}=Ge(),[m,l]=A.useState(""),[i,d]=A.useState(""),[u,f]=A.useState(!1),[g,h]=A.useState(""),[b,x]=A.useState(""),[P,T]=A.useState(null),[_,O]=A.useState(!1),[D,F]=A.useState(!1),[q,oe]=A.useState(null),[ne,$]=A.useState(null),[k,re]=A.useState(0),X=Te(),E=Ft();A.useEffect(()=>{c&&(e||E.pathname!=="/"&&X("/",{replace:!0}))},[c,e,E.pathname,X]),A.useEffect(()=>{e&&a&&E.pathname!=="/profile"&&X("/profile",{replace:!0,state:{forced:!0}})},[e,a,E.pathname,X]);const v=()=>Y(this,null,function*(){var w,S;T(null);try{const N=yield n(m,i,_?g:void 0,_?b:void 0);O(!1),h(""),x(""),N!=null&&N.mfa_enrollment_required?(re(N.mfa_remaining_skips||0),yield y()):X("/")}catch(N){const M=(S=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:S.detail;M==="MFA code required"||(M==null?void 0:M.code)==="mfa_required"?(O(!0),T("Enter your 6-digit MFA code or a recovery code.")):T(M==="Invalid recovery code"||M==="Invalid MFA code"||M==="Invalid code"?"Invalid code. Please try again.":"Login failed. Check your credentials.")}}),y=()=>Y(this,null,function*(){var w,S;try{const N=yield W.post("/auth/mfa/enroll");oe(N.data),$(null),F(!0)}catch(N){T(((S=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:S.detail)||"Could not start MFA enrollment")}}),C=()=>Y(this,null,function*(){var w,S;try{const N=yield W.post("/auth/mfa/verify",{code:g});$(N.data.recovery_codes),F(!1),h(""),re(0),X("/")}catch(N){T(((S=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:S.detail)||"Invalid code")}}),j=()=>Y(this,null,function*(){var w,S;try{const N=yield W.post("/auth/mfa/skip");re(N.data.remaining_skips),F(!1),oe(null)}catch(N){T(((S=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:S.detail)||"Cannot skip MFA")}});return e?s.jsx(ln,{children:s.jsxs(Es,{children:[s.jsx(me,{path:"/",element:s.jsx(xn,{})}),s.jsx(me,{path:"/complaints",element:s.jsx(gn,{})}),s.jsx(me,{path:"/create",element:s.jsx(yn,{})}),s.jsx(me,{path:"/complaints/:id",element:s.jsx(bn,{})}),s.jsx(me,{path:"/profile",element:s.jsx(Dt,{})}),s.jsx(me,{path:"/users",element:s.jsx(jn,{})}),s.jsx(me,{path:"/reference",element:s.jsx(wn,{})}),s.jsx(me,{path:"/settings",element:s.jsx(Dt,{})})]})}):s.jsxs("div",{className:"min-h-screen bg-app flex items-center justify-center p-4",children:[s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"rounded-card border border-border bg-surface shadow-card p-8",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Sign in to Compass"}),s.jsx("p",{className:"text-sm text-text-secondary",children:"Use your credentials to access the complaints workspace"})]}),P&&s.jsx("div",{className:"mb-4 rounded-lg border border-semantic-error/30 bg-semantic-error/5 p-3 text-sm text-semantic-error",children:P}),s.jsxs("form",{onSubmit:w=>{w.preventDefault(),v()},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Email"}),s.jsx(H,{type:"email",value:m,onChange:w=>l(w.target.value),placeholder:"you@example.com",autoComplete:"email",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(H,{type:u?"text":"password",value:i,onChange:w=>d(w.target.value),placeholder:"",autoComplete:"current-password",required:!0}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary transition",children:u?s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):s.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),_&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"MFA Code (6 digits)"}),s.jsx(H,{type:"text",value:g,onChange:w=>h(w.target.value),placeholder:"123456",maxLength:6})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Recovery Code (optional)"}),s.jsx(H,{type:"text",value:b,onChange:w=>x(w.target.value),placeholder:"recovery-code"})]})]}),s.jsx(le,{type:"submit",variant:"primary",className:"w-full mt-6",children:"Sign in"})]})]})}),s.jsxs(cn,{open:D,onClose:k>0?()=>F(!1):()=>{},children:[s.jsx(dn,{onClose:k>0?()=>F(!1):void 0,children:"Set up Multi-Factor Authentication"}),s.jsx(un,{children:s.jsxs("div",{className:"space-y-4",children:[k<=0?s.jsx("div",{className:"rounded-lg border border-semantic-error/30 bg-semantic-error/5 p-3 text-sm text-semantic-error",children:"You must enable MFA to continue."}):s.jsxs("p",{className:"text-sm text-text-secondary",children:["We recommend enabling MFA for enhanced security. You can skip up to ",k," more time(s)."]}),q?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-text-primary mb-2",children:"Scan with your authenticator app"}),s.jsx("div",{className:"flex justify-center p-4 bg-app rounded-lg",children:s.jsx(Ln,{value:q.otpauth_url,size:180})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-text-primary mb-1",children:"Manual entry secret"}),s.jsx("code",{className:"block text-xs bg-app p-2 rounded border border-border font-mono",children:q.secret})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Enter 6-digit code"}),s.jsx(H,{type:"text",value:g,onChange:w=>h(w.target.value),placeholder:"123456",maxLength:6})]}),ne&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-text-primary mb-2",children:"Recovery codes (store securely)"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:ne.map(w=>s.jsx("code",{className:"text-xs bg-app p-2 rounded border border-border font-mono",children:w},w))})]})]}):s.jsx("p",{className:"text-sm text-text-muted",children:"Preparing enrollment..."})]})}),s.jsxs(mn,{children:[s.jsx(le,{variant:"secondary",onClick:j,disabled:k<=0,children:"Skip for now"}),s.jsx(le,{variant:"primary",onClick:C,disabled:!g||g.length<6,children:"Verify & Enable"})]})]})]})}at.createRoot(document.getElementById("root")).render(s.jsx(Oe.StrictMode,{children:s.jsx(Ss,{children:s.jsx(an,{children:s.jsx(Dn,{})})})}))});export default $n();
