var ps=Object.defineProperty,xs=Object.defineProperties;var gs=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable;var ve=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),ys=e=>{throw TypeError(e)};var ht=(e,t,s)=>t in e?ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,U=(e,t)=>{for(var s in t||(t={}))pt.call(t,s)&&ht(e,s,t[s]);if(Be)for(var s of Be(t))xt.call(t,s)&&ht(e,s,t[s]);return e},Z=(e,t)=>xs(e,gs(t));var Ze=(e,t)=>{var s={};for(var r in e)pt.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&Be)for(var r of Be(e))t.indexOf(r)<0&&xt.call(e,r)&&(s[r]=e[r]);return s};var bs=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var q=(e,t,s)=>new Promise((r,a)=>{var i=o=>{try{f(s.next(o))}catch(l){a(l)}},c=o=>{try{f(s.throw(o))}catch(l){a(l)}},f=o=>o.done?r(o.value):Promise.resolve(o.value).then(i,c);f((s=s.apply(e,t)).next())}),pe=function(e,t){this[0]=e,this[1]=t},et=(e,t,s)=>{var r=(c,f,o,l)=>{try{var d=s[c](f),u=(f=d.value)instanceof pe,h=d.done;Promise.resolve(u?f[0]:f).then(g=>u?r(c==="return"?c:"next",f[1]?{done:g.done,value:g.value}:g,o,l):o({value:g,done:h})).catch(g=>r("throw",g,o,l))}catch(g){l(g)}},a=c=>i[c]=f=>new Promise((o,l)=>r(c,f,o,l)),i={};return s=s.apply(e,t),i[ve("asyncIterator")]=()=>i,a("next"),a("throw"),a("return"),i},tt=e=>{var t=e[ve("asyncIterator")],s=!1,r,a={};return t==null?(t=e[ve("iterator")](),r=i=>a[i]=c=>t[i](c)):(t=t.call(e),r=i=>a[i]=c=>{if(s){if(s=!1,i==="throw")throw c;return c}return s=!0,{done:!1,value:new pe(new Promise(f=>{var o=t[i](c);o instanceof Object||ys("Object expected"),f(o)}),1)}}),a[ve("iterator")]=()=>a,r("next"),"throw"in t?r("throw"):a.throw=i=>{throw i},"return"in t&&r("return"),a},gt=(e,t,s)=>(t=e[ve("asyncIterator")])?t.call(e):(e=e[ve("iterator")](),t={},s=(r,a)=>(a=e[r])&&(t[r]=i=>new Promise((c,f,o)=>(i=a.call(e,i),o=i.done,Promise.resolve(i.value).then(l=>c({value:l,done:o}),f)))),s("next"),s("return"),t);import{j as n}from"./mui-BpRHmZTB.js";import{a as ws,c as js,g as vs,r as A,u as Ft,L as Ns,b as Te,d as Cs,R as Oe,e as Es,f as ue,B as Ss}from"./vendor-BaIKwp6E.js";var Dn=bs(fe=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var at={},yt=ws;at.createRoot=yt.createRoot,at.hydrateRoot=yt.hydrateRoot;var It={exports:{}};(function(e,t){(function(s,r){e.exports=r()})(js,function(){var s=1e3,r=6e4,a=36e5,i="millisecond",c="second",f="minute",o="hour",l="day",d="week",u="month",h="quarter",g="year",m="date",y="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var v=["th","st","nd","rd"],b=E%100;return"["+E+(v[(b-20)%10]||v[b]||v[0])+"]"}},R=function(E,v,b){var C=String(E);return!C||C.length>=v?E:""+Array(v+1-C.length).join(b)+E},O={s:R,z:function(E){var v=-E.utcOffset(),b=Math.abs(v),C=Math.floor(b/60),w=b%60;return(v<=0?"+":"-")+R(C,2,"0")+":"+R(w,2,"0")},m:function E(v,b){if(v.date()<b.date())return-E(b,v);var C=12*(b.year()-v.year())+(b.month()-v.month()),w=v.clone().add(C,u),j=b-w<0,S=v.clone().add(C+(j?-1:1),u);return+(-(C+(b-w)/(j?w-S:S-w))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:u,y:g,w:d,d:l,D:m,h:o,m:f,s:c,ms:i,Q:h}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},L="en",D={};D[L]=T;var z="$isDayjsObject",oe=function(E){return E instanceof G||!(!E||!E[z])},re=function E(v,b,C){var w;if(!v)return L;if(typeof v=="string"){var j=v.toLowerCase();D[j]&&(w=j),b&&(D[j]=b,w=j);var S=v.split("-");if(!w&&S.length>1)return E(S[0])}else{var N=v.name;D[N]=v,w=N}return!C&&w&&(L=w),w||!C&&L},$=function(E,v){if(oe(E))return E.clone();var b=typeof v=="object"?v:{};return b.date=E,b.args=arguments,new G(b)},M=O;M.l=re,M.i=oe,M.w=function(E,v){return $(E,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var G=function(){function E(b){this.$L=re(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[z]=!0}var v=E.prototype;return v.parse=function(b){this.$d=function(C){var w=C.date,j=C.utc;if(w===null)return new Date(NaN);if(M.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var S=w.match(x);if(S){var N=S[2]-1||0,k=(S[7]||"0").substring(0,3);return j?new Date(Date.UTC(S[1],N,S[3]||1,S[4]||0,S[5]||0,S[6]||0,k)):new Date(S[1],N,S[3]||1,S[4]||0,S[5]||0,S[6]||0,k)}}return new Date(w)}(b),this.init()},v.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},v.$utils=function(){return M},v.isValid=function(){return this.$d.toString()!==y},v.isSame=function(b,C){var w=$(b);return this.startOf(C)<=w&&w<=this.endOf(C)},v.isAfter=function(b,C){return $(b)<this.startOf(C)},v.isBefore=function(b,C){return this.endOf(C)<$(b)},v.$g=function(b,C,w){return M.u(b)?this[C]:this.set(w,b)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(b,C){var w=this,j=!!M.u(C)||C,S=M.p(b),N=function(he,Q){var de=M.w(w.$u?Date.UTC(w.$y,Q,he):new Date(w.$y,Q,he),w);return j?de:de.endOf(l)},k=function(he,Q){return M.w(w.toDate()[he].apply(w.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(Q)),w)},F=this.$W,I=this.$M,J=this.$D,je="set"+(this.$u?"UTC":"");switch(S){case g:return j?N(1,0):N(31,11);case u:return j?N(1,I):N(0,I+1);case d:var me=this.$locale().weekStart||0,Re=(F<me?F+7:F)-me;return N(j?J-Re:J+(6-Re),I);case l:case m:return k(je+"Hours",0);case o:return k(je+"Minutes",1);case f:return k(je+"Seconds",2);case c:return k(je+"Milliseconds",3);default:return this.clone()}},v.endOf=function(b){return this.startOf(b,!1)},v.$set=function(b,C){var w,j=M.p(b),S="set"+(this.$u?"UTC":""),N=(w={},w[l]=S+"Date",w[m]=S+"Date",w[u]=S+"Month",w[g]=S+"FullYear",w[o]=S+"Hours",w[f]=S+"Minutes",w[c]=S+"Seconds",w[i]=S+"Milliseconds",w)[j],k=j===l?this.$D+(C-this.$W):C;if(j===u||j===g){var F=this.clone().set(m,1);F.$d[N](k),F.init(),this.$d=F.set(m,Math.min(this.$D,F.daysInMonth())).$d}else N&&this.$d[N](k);return this.init(),this},v.set=function(b,C){return this.clone().$set(b,C)},v.get=function(b){return this[M.p(b)]()},v.add=function(b,C){var w,j=this;b=Number(b);var S=M.p(C),N=function(I){var J=$(j);return M.w(J.date(J.date()+Math.round(I*b)),j)};if(S===u)return this.set(u,this.$M+b);if(S===g)return this.set(g,this.$y+b);if(S===l)return N(1);if(S===d)return N(7);var k=(w={},w[f]=r,w[o]=a,w[c]=s,w)[S]||1,F=this.$d.getTime()+b*k;return M.w(F,this)},v.subtract=function(b,C){return this.add(-1*b,C)},v.format=function(b){var C=this,w=this.$locale();if(!this.isValid())return w.invalidDate||y;var j=b||"YYYY-MM-DDTHH:mm:ssZ",S=M.z(this),N=this.$H,k=this.$m,F=this.$M,I=w.weekdays,J=w.months,je=w.meridiem,me=function(Q,de,_e,Ie){return Q&&(Q[de]||Q(C,j))||_e[de].slice(0,Ie)},Re=function(Q){return M.s(N%12||12,Q,"0")},he=je||function(Q,de,_e){var Ie=Q<12?"AM":"PM";return _e?Ie.toLowerCase():Ie};return j.replace(P,function(Q,de){return de||function(_e){switch(_e){case"YY":return String(C.$y).slice(-2);case"YYYY":return M.s(C.$y,4,"0");case"M":return F+1;case"MM":return M.s(F+1,2,"0");case"MMM":return me(w.monthsShort,F,J,3);case"MMMM":return me(J,F);case"D":return C.$D;case"DD":return M.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return me(w.weekdaysMin,C.$W,I,2);case"ddd":return me(w.weekdaysShort,C.$W,I,3);case"dddd":return I[C.$W];case"H":return String(N);case"HH":return M.s(N,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return he(N,k,!0);case"A":return he(N,k,!1);case"m":return String(k);case"mm":return M.s(k,2,"0");case"s":return String(C.$s);case"ss":return M.s(C.$s,2,"0");case"SSS":return M.s(C.$ms,3,"0");case"Z":return S}return null}(Q)||S.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(b,C,w){var j,S=this,N=M.p(C),k=$(b),F=(k.utcOffset()-this.utcOffset())*r,I=this-k,J=function(){return M.m(S,k)};switch(N){case g:j=J()/12;break;case u:j=J();break;case h:j=J()/3;break;case d:j=(I-F)/6048e5;break;case l:j=(I-F)/864e5;break;case o:j=I/a;break;case f:j=I/r;break;case c:j=I/s;break;default:j=I}return w?j:M.a(j)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return D[this.$L]},v.locale=function(b,C){if(!b)return this.$L;var w=this.clone(),j=re(b,C,!0);return j&&(w.$L=j),w},v.clone=function(){return M.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},E}(),V=G.prototype;return $.prototype=V,[["$ms",i],["$s",c],["$m",f],["$H",o],["$W",l],["$M",u],["$y",g],["$D",m]].forEach(function(E){V[E[1]]=function(v){return this.$g(v,E[0],E[1])}}),$.extend=function(E,v){return E.$i||(E(v,G,$),E.$i=!0),$},$.locale=re,$.isDayjs=oe,$.unix=function(E){return $(1e3*E)},$.en=D[L],$.Ls=D,$.p={},$})})(It);var Rs=It.exports;const ge=vs(Rs);function Bt(e,t){return function(){return e.apply(t,arguments)}}const{toString:_s}=Object.prototype,{getPrototypeOf:dt}=Object,{iterator:Ve,toStringTag:Ut}=Symbol,Je=(e=>t=>{const s=_s.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ae=e=>(e=e.toLowerCase(),t=>Je(t)===e),Qe=e=>t=>typeof t===e,{isArray:Ee}=Array,Ce=Qe("undefined");function Le(e){return e!==null&&!Ce(e)&&e.constructor!==null&&!Ce(e.constructor)&&K(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zt=ae("ArrayBuffer");function As(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zt(e.buffer),t}const Ms=Qe("string"),K=Qe("function"),Ht=Qe("number"),$e=e=>e!==null&&typeof e=="object",ks=e=>e===!0||e===!1,ze=e=>{if(Je(e)!=="object")return!1;const t=dt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ut in e)&&!(Ve in e)},Os=e=>{if(!$e(e)||Le(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},Ps=ae("Date"),Ts=ae("File"),Ls=ae("Blob"),$s=ae("FileList"),Ds=e=>$e(e)&&K(e.pipe),Fs=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||K(e.append)&&((t=Je(e))==="formdata"||t==="object"&&K(e.toString)&&e.toString()==="[object FormData]"))},Is=ae("URLSearchParams"),[Bs,Us,zs,Hs]=["ReadableStream","Request","Response","Headers"].map(ae),qs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function De(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e=="undefined")return;let r,a;if(typeof e!="object"&&(e=[e]),Ee(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Le(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let f;for(r=0;r<c;r++)f=i[r],t.call(null,e[f],f,e)}}function qt(e,t){if(Le(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const xe=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Wt=e=>!Ce(e)&&e!==xe;function ot(){const{caseless:e,skipUndefined:t}=Wt(this)&&this||{},s={},r=(a,i)=>{const c=e&&qt(s,i)||i;ze(s[c])&&ze(a)?s[c]=ot(s[c],a):ze(a)?s[c]=ot({},a):Ee(a)?s[c]=a.slice():(!t||!Ce(a))&&(s[c]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&De(arguments[a],r);return s}const Ws=(e,t,s,{allOwnKeys:r}={})=>(De(t,(a,i)=>{s&&K(a)?e[i]=Bt(a,s):e[i]=a},{allOwnKeys:r}),e),Ys=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vs=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Js=(e,t,s,r)=>{let a,i,c;const f={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)c=a[i],(!r||r(c,e,t))&&!f[c]&&(t[c]=e[c],f[c]=!0);e=s!==!1&&dt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Qs=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},Ks=e=>{if(!e)return null;if(Ee(e))return e;let t=e.length;if(!Ht(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Xs=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&dt(Uint8Array)),Gs=(e,t)=>{const r=(e&&e[Ve]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Zs=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},er=ae("HTMLFormElement"),tr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),bt=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),sr=ae("RegExp"),Yt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};De(s,(a,i)=>{let c;(c=t(a,i,e))!==!1&&(r[i]=c||a)}),Object.defineProperties(e,r)},rr=e=>{Yt(e,(t,s)=>{if(K(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(K(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},nr=(e,t)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return Ee(e)?r(e):r(String(e).split(t)),s},ar=()=>{},or=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ir(e){return!!(e&&K(e.append)&&e[Ut]==="FormData"&&e[Ve])}const lr=e=>{const t=new Array(10),s=(r,a)=>{if($e(r)){if(t.indexOf(r)>=0)return;if(Le(r))return r;if(!("toJSON"in r)){t[a]=r;const i=Ee(r)?[]:{};return De(r,(c,f)=>{const o=s(c,a+1);!Ce(o)&&(i[f]=o)}),t[a]=void 0,i}}return r};return s(e,0)},cr=ae("AsyncFunction"),dr=e=>e&&($e(e)||K(e))&&K(e.then)&&K(e.catch),Vt=((e,t)=>e?setImmediate:t?((s,r)=>(xe.addEventListener("message",({source:a,data:i})=>{a===xe&&i===s&&r.length&&r.shift()()},!1),a=>{r.push(a),xe.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",K(xe.postMessage)),ur=typeof queueMicrotask!="undefined"?queueMicrotask.bind(xe):typeof process!="undefined"&&process.nextTick||Vt,fr=e=>e!=null&&K(e[Ve]),p={isArray:Ee,isArrayBuffer:zt,isBuffer:Le,isFormData:Fs,isArrayBufferView:As,isString:Ms,isNumber:Ht,isBoolean:ks,isObject:$e,isPlainObject:ze,isEmptyObject:Os,isReadableStream:Bs,isRequest:Us,isResponse:zs,isHeaders:Hs,isUndefined:Ce,isDate:Ps,isFile:Ts,isBlob:Ls,isRegExp:sr,isFunction:K,isStream:Ds,isURLSearchParams:Is,isTypedArray:Xs,isFileList:$s,forEach:De,merge:ot,extend:Ws,trim:qs,stripBOM:Ys,inherits:Vs,toFlatObject:Js,kindOf:Je,kindOfTest:ae,endsWith:Qs,toArray:Ks,forEachEntry:Gs,matchAll:Zs,isHTMLForm:er,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:Yt,freezeMethods:rr,toObjectSet:nr,toCamelCase:tr,noop:ar,toFiniteNumber:or,findKey:qt,global:xe,isContextDefined:Wt,isSpecCompliantForm:ir,toJSONObject:lr,isAsyncFn:cr,isThenable:dr,setImmediate:Vt,asap:ur,isIterable:fr};function _(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}p.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const Jt=_.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qt[e]={value:e}});Object.defineProperties(_,Qt);Object.defineProperty(Jt,"isAxiosError",{value:!0});_.from=(e,t,s,r,a,i)=>{const c=Object.create(Jt);p.toFlatObject(e,c,function(d){return d!==Error.prototype},l=>l!=="isAxiosError");const f=e&&e.message?e.message:"Error",o=t==null&&e?e.code:t;return _.call(c,f,o,s,r,a),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",i&&Object.assign(c,i),c};const mr=null;function it(e){return p.isPlainObject(e)||p.isArray(e)}function Kt(e){return p.endsWith(e,"[]")?e.slice(0,-2):e}function wt(e,t,s){return e?e.concat(t).map(function(a,i){return a=Kt(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function hr(e){return p.isArray(e)&&!e.some(it)}const pr=p.toFlatObject(p,{},null,function(t){return/^is[A-Z]/.test(t)});function Ke(e,t,s){if(!p.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=p.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!p.isUndefined(x[y])});const r=s.metaTokens,a=s.visitor||d,i=s.dots,c=s.indexes,o=(s.Blob||typeof Blob!="undefined"&&Blob)&&p.isSpecCompliantForm(t);if(!p.isFunction(a))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(p.isDate(m))return m.toISOString();if(p.isBoolean(m))return m.toString();if(!o&&p.isBlob(m))throw new _("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(m)||p.isTypedArray(m)?o&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,x){let P=m;if(m&&!x&&typeof m=="object"){if(p.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(p.isArray(m)&&hr(m)||(p.isFileList(m)||p.endsWith(y,"[]"))&&(P=p.toArray(m)))return y=Kt(y),P.forEach(function(R,O){!(p.isUndefined(R)||R===null)&&t.append(c===!0?wt([y],O,i):c===null?y:y+"[]",l(R))}),!1}return it(m)?!0:(t.append(wt(x,y,i),l(m)),!1)}const u=[],h=Object.assign(pr,{defaultVisitor:d,convertValue:l,isVisitable:it});function g(m,y){if(!p.isUndefined(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(m),p.forEach(m,function(P,T){(!(p.isUndefined(P)||P===null)&&a.call(t,P,p.isString(T)?T.trim():T,y,h))===!0&&g(P,y?y.concat(T):[T])}),u.pop()}}if(!p.isObject(e))throw new TypeError("data must be an object");return g(e),t}function jt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ut(e,t){this._pairs=[],e&&Ke(e,this,t)}const Xt=ut.prototype;Xt.append=function(t,s){this._pairs.push([t,s])};Xt.toString=function(t){const s=t?function(r){return t.call(this,r,jt)}:jt;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function xr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gt(e,t,s){if(!t)return e;const r=s&&s.encode||xr;p.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=p.isURLSearchParams(t)?t.toString():new ut(t,s).toString(r),i){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class vt{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){p.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gr=typeof URLSearchParams!="undefined"?URLSearchParams:ut,yr=typeof FormData!="undefined"?FormData:null,br=typeof Blob!="undefined"?Blob:null,wr={isBrowser:!0,classes:{URLSearchParams:gr,FormData:yr,Blob:br},protocols:["http","https","file","blob","url","data"]},ft=typeof window!="undefined"&&typeof document!="undefined",lt=typeof navigator=="object"&&navigator||void 0,jr=ft&&(!lt||["ReactNative","NativeScript","NS"].indexOf(lt.product)<0),vr=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Nr=ft&&window.location.href||"http://localhost",Cr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ft,hasStandardBrowserEnv:jr,hasStandardBrowserWebWorkerEnv:vr,navigator:lt,origin:Nr},Symbol.toStringTag,{value:"Module"})),Y=U(U({},Cr),wr);function Er(e,t){return Ke(e,new Y.classes.URLSearchParams,U({visitor:function(s,r,a,i){return Y.isNode&&p.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Sr(e){return p.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Rr(e){const t={},s=Object.keys(e);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],t[i]=e[i];return t}function es(e){function t(s,r,a,i){let c=s[i++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),o=i>=s.length;return c=!c&&p.isArray(a)?a.length:c,o?(p.hasOwnProp(a,c)?a[c]=[a[c],r]:a[c]=r,!f):((!a[c]||!p.isObject(a[c]))&&(a[c]=[]),t(s,r,a[c],i)&&p.isArray(a[c])&&(a[c]=Rr(a[c])),!f)}if(p.isFormData(e)&&p.isFunction(e.entries)){const s={};return p.forEachEntry(e,(r,a)=>{t(Sr(r),a,s,0)}),s}return null}function _r(e,t,s){if(p.isString(e))try{return(t||JSON.parse)(e),p.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Fe={transitional:Zt,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=p.isObject(t);if(i&&p.isHTMLForm(t)&&(t=new FormData(t)),p.isFormData(t))return a?JSON.stringify(es(t)):t;if(p.isArrayBuffer(t)||p.isBuffer(t)||p.isStream(t)||p.isFile(t)||p.isBlob(t)||p.isReadableStream(t))return t;if(p.isArrayBufferView(t))return t.buffer;if(p.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Er(t,this.formSerializer).toString();if((f=p.isFileList(t))||r.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return Ke(f?{"files[]":t}:t,o&&new o,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),_r(t)):t}],transformResponse:[function(t){const s=this.transitional||Fe.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(p.isResponse(t)||p.isReadableStream(t))return t;if(t&&p.isString(t)&&(r&&!this.responseType||a)){const c=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(f){if(c)throw f.name==="SyntaxError"?_.from(f,_.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Y.classes.FormData,Blob:Y.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],e=>{Fe.headers[e]={}});const Ar=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mr=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),s=c.substring(0,a).trim().toLowerCase(),r=c.substring(a+1).trim(),!(!s||t[s]&&Ar[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Nt=Symbol("internals");function Ae(e){return e&&String(e).trim().toLowerCase()}function He(e){return e===!1||e==null?e:p.isArray(e)?e.map(He):String(e)}function kr(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const Or=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function st(e,t,s,r,a){if(p.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!p.isString(t)){if(p.isString(r))return t.indexOf(r)!==-1;if(p.isRegExp(r))return r.test(t)}}function Pr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function Tr(e,t){const s=p.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,i,c){return this[r].call(this,t,a,i,c)},configurable:!0})})}let X=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function i(f,o,l){const d=Ae(o);if(!d)throw new Error("header name must be a non-empty string");const u=p.findKey(a,d);(!u||a[u]===void 0||l===!0||l===void 0&&a[u]!==!1)&&(a[u||o]=He(f))}const c=(f,o)=>p.forEach(f,(l,d)=>i(l,d,o));if(p.isPlainObject(t)||t instanceof this.constructor)c(t,s);else if(p.isString(t)&&(t=t.trim())&&!Or(t))c(Mr(t),s);else if(p.isObject(t)&&p.isIterable(t)){let f={},o,l;for(const d of t){if(!p.isArray(d))throw TypeError("Object iterator must return a key-value pair");f[l=d[0]]=(o=f[l])?p.isArray(o)?[...o,d[1]]:[o,d[1]]:d[1]}c(f,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=Ae(t),t){const r=p.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return kr(a);if(p.isFunction(s))return s.call(this,a,r);if(p.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ae(t),t){const r=p.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||st(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function i(c){if(c=Ae(c),c){const f=p.findKey(r,c);f&&(!s||st(r,r[f],f,s))&&(delete r[f],a=!0)}}return p.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!t||st(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,r={};return p.forEach(this,(a,i)=>{const c=p.findKey(r,i);if(c){s[c]=He(a),delete s[i];return}const f=t?Pr(i):String(i).trim();f!==i&&delete s[i],s[f]=He(a),r[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return p.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&p.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Nt]=this[Nt]={accessors:{}}).accessors,a=this.prototype;function i(c){const f=Ae(c);r[f]||(Tr(a,c),r[f]=!0)}return p.isArray(t)?t.forEach(i):i(t),this}};X.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(X.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});p.freezeMethods(X);function rt(e,t){const s=this||Fe,r=t||s,a=X.from(r.headers);let i=r.data;return p.forEach(e,function(f){i=f.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function ts(e){return!!(e&&e.__CANCEL__)}function Se(e,t,s){_.call(this,e==null?"canceled":e,_.ERR_CANCELED,t,s),this.name="CanceledError"}p.inherits(Se,_,{__CANCEL__:!0});function ss(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new _("Request failed with status code "+s.status,[_.ERR_BAD_REQUEST,_.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Lr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $r(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,i=0,c;return t=t!==void 0?t:1e3,function(o){const l=Date.now(),d=r[i];c||(c=l),s[a]=o,r[a]=l;let u=i,h=0;for(;u!==a;)h+=s[u++],u=u%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-c<t)return;const g=d&&l-d;return g?Math.round(h*1e3/g):void 0}}function Dr(e,t){let s=0,r=1e3/t,a,i;const c=(l,d=Date.now())=>{s=d,a=null,i&&(clearTimeout(i),i=null),e(...l)};return[(...l)=>{const d=Date.now(),u=d-s;u>=r?c(l,d):(a=l,i||(i=setTimeout(()=>{i=null,c(a)},r-u)))},()=>a&&c(a)]}const We=(e,t,s=3)=>{let r=0;const a=$r(50,250);return Dr(i=>{const c=i.loaded,f=i.lengthComputable?i.total:void 0,o=c-r,l=a(o),d=c<=f;r=c;const u={loaded:c,total:f,progress:f?c/f:void 0,bytes:o,rate:l||void 0,estimated:l&&f&&d?(f-c)/l:void 0,event:i,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(u)},s)},Ct=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Et=e=>(...t)=>p.asap(()=>e(...t)),Fr=Y.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Y.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Y.origin),Y.navigator&&/(msie|trident)/i.test(Y.navigator.userAgent)):()=>!0,Ir=Y.hasStandardBrowserEnv?{write(e,t,s,r,a,i,c){if(typeof document=="undefined")return;const f=[`${e}=${encodeURIComponent(t)}`];p.isNumber(s)&&f.push(`expires=${new Date(s).toUTCString()}`),p.isString(r)&&f.push(`path=${r}`),p.isString(a)&&f.push(`domain=${a}`),i===!0&&f.push("secure"),p.isString(c)&&f.push(`SameSite=${c}`),document.cookie=f.join("; ")},read(e){if(typeof document=="undefined")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Br(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ur(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rs(e,t,s){let r=!Br(t);return e&&(r||s==!1)?Ur(e,t):t}const St=e=>e instanceof X?U({},e):e;function be(e,t){t=t||{};const s={};function r(l,d,u,h){return p.isPlainObject(l)&&p.isPlainObject(d)?p.merge.call({caseless:h},l,d):p.isPlainObject(d)?p.merge({},d):p.isArray(d)?d.slice():d}function a(l,d,u,h){if(p.isUndefined(d)){if(!p.isUndefined(l))return r(void 0,l,u,h)}else return r(l,d,u,h)}function i(l,d){if(!p.isUndefined(d))return r(void 0,d)}function c(l,d){if(p.isUndefined(d)){if(!p.isUndefined(l))return r(void 0,l)}else return r(void 0,d)}function f(l,d,u){if(u in t)return r(l,d);if(u in e)return r(void 0,l)}const o={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(l,d,u)=>a(St(l),St(d),u,!0)};return p.forEach(Object.keys(U(U({},e),t)),function(d){const u=o[d]||a,h=u(e[d],t[d],d);p.isUndefined(h)&&u!==f||(s[d]=h)}),s}const ns=e=>{const t=be({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:c,auth:f}=t;if(t.headers=c=X.from(c),t.url=Gt(rs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),p.isFormData(s)){if(Y.hasStandardBrowserEnv||Y.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(p.isFunction(s.getHeaders)){const o=s.getHeaders(),l=["content-type","content-length"];Object.entries(o).forEach(([d,u])=>{l.includes(d.toLowerCase())&&c.set(d,u)})}}if(Y.hasStandardBrowserEnv&&(r&&p.isFunction(r)&&(r=r(t)),r||r!==!1&&Fr(t.url))){const o=a&&i&&Ir.read(i);o&&c.set(a,o)}return t},zr=typeof XMLHttpRequest!="undefined",Hr=zr&&function(e){return new Promise(function(s,r){const a=ns(e);let i=a.data;const c=X.from(a.headers).normalize();let{responseType:f,onUploadProgress:o,onDownloadProgress:l}=a,d,u,h,g,m;function y(){g&&g(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function P(){if(!x)return;const R=X.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),L={data:!f||f==="text"||f==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:R,config:e,request:x};ss(function(z){s(z),y()},function(z){r(z),y()},L),x=null}"onloadend"in x?x.onloadend=P:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(P)},x.onabort=function(){x&&(r(new _("Request aborted",_.ECONNABORTED,e,x)),x=null)},x.onerror=function(O){const L=O&&O.message?O.message:"Network Error",D=new _(L,_.ERR_NETWORK,e,x);D.event=O||null,r(D),x=null},x.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const L=a.transitional||Zt;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),r(new _(O,L.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,e,x)),x=null},i===void 0&&c.setContentType(null),"setRequestHeader"in x&&p.forEach(c.toJSON(),function(O,L){x.setRequestHeader(L,O)}),p.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),f&&f!=="json"&&(x.responseType=a.responseType),l&&([h,m]=We(l,!0),x.addEventListener("progress",h)),o&&x.upload&&([u,g]=We(o),x.upload.addEventListener("progress",u),x.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(d=R=>{x&&(r(!R||R.type?new Se(null,e,x):R),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const T=Lr(a.url);if(T&&Y.protocols.indexOf(T)===-1){r(new _("Unsupported protocol "+T+":",_.ERR_BAD_REQUEST,e));return}x.send(i||null)})},qr=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const i=function(l){if(!a){a=!0,f();const d=l instanceof Error?l:this.reason;r.abort(d instanceof _?d:new Se(d instanceof Error?d.message:d))}};let c=t&&setTimeout(()=>{c=null,i(new _(`timeout ${t} of ms exceeded`,_.ETIMEDOUT))},t);const f=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>p.asap(f),o}},Wr=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},Yr=function(e,t){return et(this,null,function*(){try{for(var s=gt(Vr(e)),r,a,i;r=!(a=yield new pe(s.next())).done;r=!1){const c=a.value;yield*tt(Wr(c,t))}}catch(a){i=[a]}finally{try{r&&(a=s.return)&&(yield new pe(a.call(s)))}finally{if(i)throw i[0]}}})},Vr=function(e){return et(this,null,function*(){if(e[Symbol.asyncIterator]){yield*tt(e);return}const t=e.getReader();try{for(;;){const{done:s,value:r}=yield new pe(t.read());if(s)break;yield r}}finally{yield new pe(t.cancel())}})},Rt=(e,t,s,r)=>{const a=Yr(e,t);let i=0,c,f=l=>{c||(c=!0,r&&r(l))};return new ReadableStream({pull(l){return q(this,null,function*(){try{const{done:d,value:u}=yield a.next();if(d){f(),l.close();return}let h=u.byteLength;if(s){let g=i+=h;s(g)}l.enqueue(new Uint8Array(u))}catch(d){throw f(d),d}})},cancel(l){return f(l),a.return()}},{highWaterMark:2})},_t=64*1024,{isFunction:Ue}=p,Jr=(({Request:e,Response:t})=>({Request:e,Response:t}))(p.global),{ReadableStream:At,TextEncoder:Mt}=p.global,kt=(e,...t)=>{try{return!!e(...t)}catch(s){return!1}},Qr=e=>{e=p.merge.call({skipUndefined:!0},Jr,e);const{fetch:t,Request:s,Response:r}=e,a=t?Ue(t):typeof fetch=="function",i=Ue(s),c=Ue(r);if(!a)return!1;const f=a&&Ue(At),o=a&&(typeof Mt=="function"?(m=>y=>m.encode(y))(new Mt):m=>q(fe,null,function*(){return new Uint8Array(yield new s(m).arrayBuffer())})),l=i&&f&&kt(()=>{let m=!1;const y=new s(Y.origin,{body:new At,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=c&&f&&kt(()=>p.isReadableStream(new r("").body)),u={stream:d&&(m=>m.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!u[m]&&(u[m]=(y,x)=>{let P=y&&y[m];if(P)return P.call(y);throw new _(`Response type '${m}' is not supported`,_.ERR_NOT_SUPPORT,x)})});const h=m=>q(fe,null,function*(){if(m==null)return 0;if(p.isBlob(m))return m.size;if(p.isSpecCompliantForm(m))return(yield new s(Y.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(p.isArrayBufferView(m)||p.isArrayBuffer(m))return m.byteLength;if(p.isURLSearchParams(m)&&(m=m+""),p.isString(m))return(yield o(m)).byteLength}),g=(m,y)=>q(fe,null,function*(){const x=p.toFiniteNumber(m.getContentLength());return x==null?h(y):x});return m=>q(fe,null,function*(){let{url:y,method:x,data:P,signal:T,cancelToken:R,timeout:O,onDownloadProgress:L,onUploadProgress:D,responseType:z,headers:oe,withCredentials:re="same-origin",fetchOptions:$}=ns(m),M=t||fetch;z=z?(z+"").toLowerCase():"text";let G=qr([T,R&&R.toAbortSignal()],O),V=null;const E=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let v;try{if(D&&l&&x!=="get"&&x!=="head"&&(v=yield g(oe,P))!==0){let N=new s(y,{method:"POST",body:P,duplex:"half"}),k;if(p.isFormData(P)&&(k=N.headers.get("content-type"))&&oe.setContentType(k),N.body){const[F,I]=Ct(v,We(Et(D)));P=Rt(N.body,_t,F,I)}}p.isString(re)||(re=re?"include":"omit");const b=i&&"credentials"in s.prototype,C=Z(U({},$),{signal:G,method:x.toUpperCase(),headers:oe.normalize().toJSON(),body:P,duplex:"half",credentials:b?re:void 0});V=i&&new s(y,C);let w=yield i?M(V,$):M(y,C);const j=d&&(z==="stream"||z==="response");if(d&&(L||j&&E)){const N={};["status","statusText","headers"].forEach(J=>{N[J]=w[J]});const k=p.toFiniteNumber(w.headers.get("content-length")),[F,I]=L&&Ct(k,We(Et(L),!0))||[];w=new r(Rt(w.body,_t,F,()=>{I&&I(),E&&E()}),N)}z=z||"text";let S=yield u[p.findKey(u,z)||"text"](w,m);return!j&&E&&E(),yield new Promise((N,k)=>{ss(N,k,{data:S,headers:X.from(w.headers),status:w.status,statusText:w.statusText,config:m,request:V})})}catch(b){throw E&&E(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new _("Network Error",_.ERR_NETWORK,m,V),{cause:b.cause||b}):_.from(b,b&&b.code,m,V)}})},Kr=new Map,as=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:a}=t,i=[r,a,s];let c=i.length,f=c,o,l,d=Kr;for(;f--;)o=i[f],l=d.get(o),l===void 0&&d.set(o,l=f?new Map:Qr(t)),d=l;return l};as();const mt={http:mr,xhr:Hr,fetch:{get:as}};p.forEach(mt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}});const Ot=e=>`- ${e}`,Xr=e=>p.isFunction(e)||e===null||e===!1;function Gr(e,t){e=p.isArray(e)?e:[e];const{length:s}=e;let r,a;const i={};for(let c=0;c<s;c++){r=e[c];let f;if(a=r,!Xr(r)&&(a=mt[(f=String(r)).toLowerCase()],a===void 0))throw new _(`Unknown adapter '${f}'`);if(a&&(p.isFunction(a)||(a=a.get(t))))break;i[f||"#"+c]=a}if(!a){const c=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let f=s?c.length>1?`since :
`+c.map(Ot).join(`
`):" "+Ot(c[0]):"as no adapter specified";throw new _("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a}const os={getAdapter:Gr,adapters:mt};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Se(null,e)}function Pt(e){return nt(e),e.headers=X.from(e.headers),e.data=rt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),os.getAdapter(e.adapter||Fe.adapter,e)(e).then(function(r){return nt(e),r.data=rt.call(e,e.transformResponse,r),r.headers=X.from(r.headers),r},function(r){return ts(r)||(nt(e),r&&r.response&&(r.response.data=rt.call(e,e.transformResponse,r.response),r.response.headers=X.from(r.response.headers))),Promise.reject(r)})}const is="1.13.2",Xe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xe[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Tt={};Xe.transitional=function(t,s,r){function a(i,c){return"[Axios v"+is+"] Transitional option '"+i+"'"+c+(r?". "+r:"")}return(i,c,f)=>{if(t===!1)throw new _(a(c," has been removed"+(s?" in "+s:"")),_.ERR_DEPRECATED);return s&&!Tt[c]&&(Tt[c]=!0,console.warn(a(c," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,c,f):!0}};Xe.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Zr(e,t,s){if(typeof e!="object")throw new _("options must be an object",_.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],c=t[i];if(c){const f=e[i],o=f===void 0||c(f,i,e);if(o!==!0)throw new _("option "+i+" must be "+o,_.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new _("Unknown option "+i,_.ERR_BAD_OPTION)}}const qe={assertOptions:Zr,validators:Xe},ie=qe.validators;let ye=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vt,response:new vt}}request(t,s){return q(this,null,function*(){try{return yield this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch(c){}}throw r}})}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=be(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&qe.assertOptions(r,{silentJSONParsing:ie.transitional(ie.boolean),forcedJSONParsing:ie.transitional(ie.boolean),clarifyTimeoutError:ie.transitional(ie.boolean)},!1),a!=null&&(p.isFunction(a)?s.paramsSerializer={serialize:a}:qe.assertOptions(a,{encode:ie.function,serialize:ie.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),qe.assertOptions(s,{baseUrl:ie.spelling("baseURL"),withXsrfToken:ie.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=i&&p.merge(i.common,i[s.method]);i&&p.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),s.headers=X.concat(c,i);const f=[];let o=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(o=o&&y.synchronous,f.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let d,u=0,h;if(!o){const m=[Pt.bind(this),void 0];for(m.unshift(...f),m.push(...l),h=m.length,d=Promise.resolve(s);u<h;)d=d.then(m[u++],m[u++]);return d}h=f.length;let g=s;for(;u<h;){const m=f[u++],y=f[u++];try{g=m(g)}catch(x){y.call(this,x);break}}try{d=Pt.call(this,g)}catch(m){return Promise.reject(m)}for(u=0,h=l.length;u<h;)d=d.then(l[u++],l[u++]);return d}getUri(t){t=be(this.defaults,t);const s=rs(t.baseURL,t.url,t.allowAbsoluteUrls);return Gt(s,t.params,t.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(t){ye.prototype[t]=function(s,r){return this.request(be(r||{},{method:t,url:s,data:(r||{}).data}))}});p.forEach(["post","put","patch"],function(t){function s(r){return function(i,c,f){return this.request(be(f||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}ye.prototype[t]=s(),ye.prototype[t+"Form"]=s(!0)});let en=class ls{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const c=new Promise(f=>{r.subscribe(f),i=f}).then(a);return c.cancel=function(){r.unsubscribe(i)},c},t(function(i,c,f){r.reason||(r.reason=new Se(i,c,f),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new ls(function(a){t=a}),cancel:t}}};function tn(e){return function(s){return e.apply(null,s)}}function sn(e){return p.isObject(e)&&e.isAxiosError===!0}const ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ct).forEach(([e,t])=>{ct[t]=e});function cs(e){const t=new ye(e),s=Bt(ye.prototype.request,t);return p.extend(s,ye.prototype,t,{allOwnKeys:!0}),p.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return cs(be(e,a))},s}const B=cs(Fe);B.Axios=ye;B.CanceledError=Se;B.CancelToken=en;B.isCancel=ts;B.VERSION=is;B.toFormData=Ke;B.AxiosError=_;B.Cancel=B.CanceledError;B.all=function(t){return Promise.all(t)};B.spread=tn;B.isAxiosError=sn;B.mergeConfig=be;B.AxiosHeaders=X;B.formToJSON=e=>es(p.isHTMLForm(e)?new FormData(e):e);B.getAdapter=os.getAdapter;B.HttpStatusCode=ct;B.default=B;const{Axios:Hn,AxiosError:qn,CanceledError:Wn,isCancel:Yn,CancelToken:Vn,VERSION:Jn,all:Qn,Cancel:Kn,isAxiosError:Xn,spread:Gn,toFormData:Zn,AxiosHeaders:ea,HttpStatusCode:ta,formToJSON:sa,getAdapter:ra,mergeConfig:na}=B,rn="/api",nn=rn,H=B.create({baseURL:nn});H.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers=Z(U({},e.headers),{Authorization:`Bearer ${t}`})),e});H.interceptors.response.use(e=>e,e=>{var s;return((s=e==null?void 0:e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("name"),localStorage.removeItem("userId"),typeof window!="undefined"&&window.location.pathname!=="/"&&window.location.assign("/")),Promise.reject(e)});const ds=A.createContext(void 0),an=({children:e})=>{const[t,s]=A.useState({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!1});A.useEffect(()=>{q(fe,null,function*(){const f=localStorage.getItem("token"),o=localStorage.getItem("role"),l=localStorage.getItem("name"),d=localStorage.getItem("userId");if(f)try{const u=yield H.get("/auth/me",{headers:{Authorization:`Bearer ${f}`}}),h=u.data.role;localStorage.setItem("role",h),localStorage.setItem("name",u.data.full_name),localStorage.setItem("userId",u.data.id),s({token:f,role:h,name:u.data.full_name,userId:u.data.id,mustChangePassword:!!u.data.must_change_password,ready:!0});return}catch(u){localStorage.clear(),s({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!0});return}(o||l||d)&&localStorage.clear(),s({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!0})})},[]);const r=()=>q(fe,null,function*(){const c=localStorage.getItem("token");if(!c)return;const f=yield H.get("/auth/me",{headers:{Authorization:`Bearer ${c}`}}),o=f.data.role;localStorage.setItem("role",o),localStorage.setItem("name",f.data.full_name),localStorage.setItem("userId",f.data.id),s({token:c,role:o,name:f.data.full_name,userId:f.data.id,mustChangePassword:!!f.data.must_change_password,ready:!0})}),a=(c,f,o,l)=>q(fe,null,function*(){const d=yield H.post("/auth/token",{email:c,password:f,mfa_code:o,recovery_code:l}),u=d.data.access_token;localStorage.setItem("token",u);const h=yield H.get("/auth/me",{headers:{Authorization:`Bearer ${u}`}}),g=h.data.role;return localStorage.setItem("role",g),localStorage.setItem("name",h.data.full_name),localStorage.setItem("userId",h.data.id),s({token:u,role:g,name:h.data.full_name,userId:h.data.id,mustChangePassword:!!h.data.must_change_password,ready:!0}),d.data}),i=()=>{localStorage.clear(),s({token:null,role:null,name:null,userId:null,mustChangePassword:!1,ready:!0})};return n.jsx(ds.Provider,{value:Z(U({},t),{login:a,logout:i,refreshMe:r}),children:e})},Ge=()=>{const e=A.useContext(ds);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function Ne({to:e,icon:t,label:s,badge:r}){const i=Ft().pathname===e;return n.jsxs(Ns,{to:e,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition ${i?"bg-app text-text-primary":"text-text-secondary hover:bg-app hover:text-text-primary"}`,children:[n.jsx("span",{className:"h-5 w-5",children:t}),n.jsx("span",{className:"flex-1",children:s}),r!==void 0&&r>0&&n.jsx("span",{className:"ml-auto inline-flex h-5 min-w-5 items-center justify-center rounded-full bg-app px-1 text-[11px] font-semibold text-text-secondary border border-border",children:r})]})}function on(){var s,r;const{user:e,logout:t}=Ge();return n.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-surface border-r border-border px-6 py-6 flex flex-col gap-6 overflow-y-auto scrollbar-thin",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-brand flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"C"})}),n.jsx("span",{className:"text-lg font-semibold text-text-primary",children:"Compass"})]}),n.jsxs("nav",{className:"flex flex-col gap-1",children:[n.jsx(Ne,{to:"/",icon:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),label:"Dashboard"}),n.jsx(Ne,{to:"/complaints",icon:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),label:"Complaints"}),n.jsx(Ne,{to:"/create",icon:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),label:"New Complaint"}),(e==null?void 0:e.role)!=="read_only"&&n.jsx(Ne,{to:"/reference",icon:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),label:"Reference Data"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="complaints_manager")&&n.jsx(Ne,{to:"/users",icon:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),label:"Users"}),n.jsx(Ne,{to:"/settings",icon:n.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),label:"Settings"})]}),n.jsxs("div",{className:"mt-auto pt-6 border-t border-border",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-app flex items-center justify-center text-text-primary font-semibold text-sm",children:((s=e==null?void 0:e.full_name)==null?void 0:s.charAt(0))||"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-text-primary truncate",children:e==null?void 0:e.full_name}),n.jsx("div",{className:"text-xs text-text-muted truncate capitalize",children:(r=e==null?void 0:e.role)==null?void 0:r.replace("_"," ")})]})]}),n.jsxs("button",{onClick:t,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-text-secondary hover:bg-app hover:text-text-primary transition",children:[n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),n.jsx("span",{children:"Sign out"})]})]})]})}function ln({children:e}){return n.jsxs("div",{className:"min-h-screen bg-app text-text-primary",children:[n.jsx(on,{}),n.jsx("div",{className:"ml-64 min-h-screen flex flex-col",children:e})]})}function le(i){var c=i,{variant:e="primary",size:t="md",className:s="",children:r}=c,a=Ze(c,["variant","size","className","children"]);const f="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 focus-visible:ring-offset-app disabled:opacity-40 disabled:pointer-events-none",o={sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm"},l={primary:"bg-brand text-white hover:opacity-90 active:translate-y-px",secondary:"bg-surface text-text-primary border border-border hover:bg-app active:translate-y-px",ghost:"bg-transparent text-text-primary hover:bg-app active:translate-y-px",icon:"h-10 w-10 p-0 rounded-full hover:bg-app active:translate-y-px"};return n.jsx("button",Z(U({className:`${f} ${o[t]} ${l[e]} ${s}`},a),{children:r}))}function W(a){var i=a,{error:e,leadingIcon:t,className:s=""}=i,r=Ze(i,["error","leadingIcon","className"]);const c="w-full h-10 rounded-lg border bg-surface px-3 text-sm text-text-primary placeholder:text-text-muted outline-none transition",f=e?"border-semantic-error focus:border-semantic-error focus:ring-2 focus:ring-semantic-error/15":"border-border focus:border-brand focus:ring-2 focus:ring-brand/15",o=t?"pl-10":"px-3";return n.jsxs("div",{className:"relative",children:[t&&n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-text-muted",children:t}),n.jsx("input",U({className:`${c} ${f} ${o} ${s}`},r))]})}function ee({children:e,className:t="",onClick:s,selected:r,inverse:a}){const i="rounded-card border shadow-card p-4",c=a?"bg-brand text-white border-transparent":"bg-surface text-text-primary border-border",f=r?"ring-2 ring-brand/15":"",o=s?"cursor-pointer hover:shadow-sm active:translate-y-px transition":"";return n.jsx("div",{className:`${i} ${c} ${f} ${o} ${t}`,onClick:s,children:e})}function te({children:e,className:t=""}){return n.jsx("div",{className:`flex items-start justify-between gap-3 ${t}`,children:e})}function se({children:e,className:t="",inverse:s}){const r=s?"text-white":"text-text-primary";return n.jsx("h3",{className:`text-sm font-semibold ${r} ${t}`,children:e})}function ne({children:e,className:t="",inverse:s}){const r=s?"text-white/80":"text-text-secondary";return n.jsx("div",{className:`mt-2 text-xs leading-relaxed ${r} ${t}`,children:e})}function cn({open:e,onClose:t,children:s}){return A.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:t}),n.jsx("div",{className:"fixed left-1/2 top-1/2 w-[min(560px,calc(100%-2rem))] -translate-x-1/2 -translate-y-1/2 rounded-modal border border-border bg-surface p-6 shadow-xl z-50",children:s})]}):null}function dn({children:e,onClose:t}){return n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:e}),t&&n.jsx("button",{onClick:t,className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-text-muted hover:bg-app hover:text-text-primary transition",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function un({children:e}){return n.jsx("div",{className:"text-sm text-text-secondary",children:e})}function fn({children:e}){return n.jsx("div",{className:"mt-6 flex justify-end gap-3",children:e})}function mn({children:e,className:t=""}){return n.jsx("div",{className:`overflow-hidden rounded-card border border-border bg-surface ${t}`,children:n.jsx("table",{className:"w-full table-auto",children:e})})}function hn({children:e}){return n.jsx("thead",{className:"bg-app",children:e})}function pn({children:e}){return n.jsx("tbody",{children:e})}function Lt({children:e,onClick:t,className:s=""}){const r=t?"cursor-pointer hover:bg-app/60":"hover:bg-app/60";return n.jsx("tr",{className:`border-t border-border ${r} ${s}`,onClick:t,children:e})}function Me({children:e,className:t=""}){return n.jsx("th",{className:`h-10 px-4 text-left text-xs font-semibold text-text-secondary ${t}`,children:e})}function ke({children:e,className:t=""}){return n.jsx("td",{className:`h-12 px-4 text-sm text-text-primary ${t}`,children:e})}function ce({title:e,actions:t}){return n.jsxs("div",{className:"h-16 px-10 flex items-center justify-between gap-6 bg-app border-b border-border",children:[e?n.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:e}):n.jsx("div",{className:"w-full max-w-md",children:n.jsx(W,{type:"search",placeholder:"Search complaints...",leadingIcon:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),n.jsx("div",{className:"flex items-center gap-3",children:t})]})}function xn(){const e=Te(),{userId:t,token:s}=Ge(),[r,a]=A.useState(null),[i,c]=A.useState([]),[f,o]=A.useState("mine"),[l,d]=A.useState(!1);A.useEffect(()=>{s&&H.get("/complaints/metrics",{params:{_:Date.now()}}).then(h=>a(h.data)).catch(h=>{var g;((g=h==null?void 0:h.response)==null?void 0:g.status)!==401&&console.error("Failed to load dashboard metrics",h)})},[s]),A.useEffect(()=>{if(!t||!s)return;q(this,null,function*(){var g;d(!0);try{let m=[];f==="mine"?m=((yield H.get("/complaints",{params:{handler_id:t,page:1,page_size:50,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed"):f==="unassigned"?m=((yield H.get("/complaints",{params:{page:1,page_size:100,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed").filter(x=>!x.assigned_handler_id):f==="breached"?m=((yield H.get("/complaints",{params:{overdue:!0,page:1,page_size:100,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed"):f==="oldest"&&(m=((yield H.get("/complaints",{params:{page:1,page_size:100,_:Date.now()}})).data||[]).filter(x=>x.status!=="Closed"),m.sort((x,P)=>ge(x.received_at).valueOf()-ge(P.received_at).valueOf()),m=m.slice(0,20)),c(m)}catch(m){if(((g=m==null?void 0:m.response)==null?void 0:g.status)===401)return;console.error("Failed to load queue",m)}finally{d(!1)}})},[t,s,f]);const u=h=>h===null?"N/A":`${Math.round(h)}%`;return n.jsxs(n.Fragment,{children:[n.jsx(ce,{actions:n.jsxs(le,{variant:"primary",onClick:()=>e("/create"),children:[n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"New Complaint"]})}),n.jsxs("div",{className:"px-10 py-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[n.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"Open Cases"}),n.jsx("div",{className:"mt-3 text-3xl font-semibold text-text-primary",children:(r==null?void 0:r.kpis.open)||0}),n.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"Total open complaints"})]}),n.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[n.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"My Open"}),n.jsx("div",{className:"mt-3 text-3xl font-semibold text-text-primary",children:(r==null?void 0:r.kpis.my_open)||0}),n.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"Assigned to me"})]}),n.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[n.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"SLA Breaches"}),n.jsx("div",{className:"mt-3 text-3xl font-semibold text-semantic-error",children:(r==null?void 0:r.kpis.open_sla_breaches)||0}),n.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"Open breaches"})]}),n.jsxs("div",{className:"rounded-card border border-border bg-app p-6",children:[n.jsx("div",{className:"text-sm font-semibold text-text-primary",children:"Stale (21d+)"}),n.jsx("div",{className:"mt-3 text-3xl font-semibold text-semantic-warning",children:(r==null?void 0:r.kpis.open_stale_21d)||0}),n.jsx("div",{className:"mt-2 text-xs text-text-secondary",children:"No activity"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Acknowledgement SLA (30d)"})}),n.jsx(ne,{children:n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-text-secondary",children:"On-time rate"}),n.jsx("span",{className:"text-sm font-semibold text-text-primary",children:u((r==null?void 0:r.sla_30d.ack.on_time_pct)||null)})]}),n.jsx("div",{className:"w-full h-2 bg-app rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-semantic-success",style:{width:`${(r==null?void 0:r.sla_30d.ack.on_time_pct)||0}%`}})}),n.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:[(r==null?void 0:r.sla_30d.ack.on_time)||0," / ",(r==null?void 0:r.sla_30d.ack.total)||0," on time"]})]})})]}),n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Final Response SLA (30d)"})}),n.jsx(ne,{children:n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-text-secondary",children:"On-time rate"}),n.jsx("span",{className:"text-sm font-semibold text-text-primary",children:u((r==null?void 0:r.sla_30d.final.on_time_pct)||null)})]}),n.jsx("div",{className:"w-full h-2 bg-app rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-semantic-success",style:{width:`${(r==null?void 0:r.sla_30d.final.on_time_pct)||0}%`}})}),n.jsxs("div",{className:"mt-2 text-xs text-text-muted",children:[(r==null?void 0:r.sla_30d.final.on_time)||0," / ",(r==null?void 0:r.sla_30d.final.total)||0," on time"]})]})})]})]}),n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"My Queue"})}),n.jsx("div",{className:"mt-4 border-b border-border",children:n.jsx("div",{className:"flex gap-1 px-4",children:["mine","unassigned","breached","oldest"].map(h=>n.jsx("button",{onClick:()=>o(h),className:`px-4 py-2 text-sm font-medium capitalize transition border-b-2 ${f===h?"border-brand text-text-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:h},h))})}),n.jsx("div",{className:"p-4",children:l?n.jsx("div",{className:"text-center py-8 text-text-muted",children:"Loading..."}):i.length===0?n.jsx("div",{className:"text-center py-8 text-text-muted",children:"No complaints in this queue"}):n.jsx("div",{className:"space-y-2",children:i.map(h=>n.jsxs("div",{onClick:()=>e(`/complaints/${h.id}`),className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-app cursor-pointer transition",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-semibold text-text-primary truncate",children:h.reference}),n.jsx("div",{className:"text-xs text-text-secondary truncate mt-1",children:h.description||"No description"})]}),n.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[n.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap",children:ge(h.received_at).format("MMM D")}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-lg text-xs font-medium ${h.status==="New"?"bg-semantic-info/10 text-semantic-info":h.status==="Acknowledged"?"bg-semantic-success/10 text-semantic-success":"bg-app text-text-secondary"}`,children:h.status})]})]},h.id))})})]})]})]})}function us({status:e,className:t=""}){const s=r=>{switch(r){case"New":return"bg-semantic-info/10 text-semantic-info border-semantic-info/20";case"Acknowledged":return"bg-semantic-success/10 text-semantic-success border-semantic-success/20";case"In Investigation":return"bg-blue-50 text-blue-700 border-blue-200";case"Response Drafted":return"bg-purple-50 text-purple-700 border-purple-200";case"Awaiting Customer":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"Escalated":return"bg-semantic-warning/10 text-semantic-warning border-semantic-warning/20";case"Closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-app text-text-secondary border-border"}};return n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-lg text-xs font-medium border ${s(e)} ${t}`,children:e})}function gn(){const e=Te(),[t,s]=A.useState([]),[r,a]=A.useState(!0),[i,c]=A.useState("");A.useEffect(()=>{H.get("/complaints",{params:{page:1,page_size:100}}).then(o=>{s(o.data||[]),a(!1)}).catch(o=>{console.error("Failed to load complaints",o),a(!1)})},[]);const f=t.filter(o=>{var l;return o.reference.toLowerCase().includes(i.toLowerCase())||((l=o.description)==null?void 0:l.toLowerCase().includes(i.toLowerCase()))});return n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"Complaints"}),n.jsxs("div",{className:"px-10 py-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-full max-w-md",children:n.jsx(W,{type:"search",placeholder:"Search complaints...",value:i,onChange:o=>c(o.target.value),leadingIcon:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),n.jsxs(le,{variant:"primary",onClick:()=>e("/create"),children:[n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"New Complaint"]})]}),r?n.jsx("div",{className:"text-center py-12 text-text-muted",children:"Loading complaints..."}):n.jsxs(mn,{children:[n.jsx(hn,{children:n.jsxs(Lt,{children:[n.jsx(Me,{children:"Reference"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Description"}),n.jsx(Me,{children:"Received"}),n.jsx(Me,{children:"Handler"})]})}),n.jsx(pn,{children:f.map(o=>n.jsxs(Lt,{onClick:()=>e(`/complaints/${o.id}`),children:[n.jsx(ke,{children:n.jsx("span",{className:"font-semibold",children:o.reference})}),n.jsx(ke,{children:n.jsx(us,{status:o.status})}),n.jsx(ke,{children:n.jsx("span",{className:"truncate max-w-md block",children:o.description||"No description"})}),n.jsx(ke,{children:n.jsx("span",{className:"text-text-muted",children:ge(o.received_at).format("MMM D, YYYY")})}),n.jsx(ke,{children:n.jsx("span",{className:"text-text-muted",children:o.assigned_handler_name||"Unassigned"})})]},o.id))})]}),!r&&f.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"No complaints found"}),n.jsx("p",{className:"mt-1 text-sm text-text-secondary",children:"Try adjusting your search"})]})]})]})}function yn(){const{id:e}=Cs(),t=Te(),[s,r]=A.useState(null),[a,i]=A.useState(!0);return A.useEffect(()=>{e&&H.get(`/complaints/${e}`).then(c=>{r(c.data),i(!1)}).catch(c=>{console.error("Failed to load complaint",c),i(!1)})},[e]),a?n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"Loading..."}),n.jsx("div",{className:"px-10 py-6",children:n.jsx("div",{className:"text-center py-12 text-text-muted",children:"Loading complaint details..."})})]}):s?n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:s.reference,actions:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(us,{status:s.status}),n.jsx(le,{variant:"secondary",onClick:()=>t("/complaints"),children:"Back"})]})}),n.jsx("div",{className:"px-10 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Complaint Details"})}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Description"}),n.jsx("p",{className:"text-sm text-text-primary",children:s.description||"No description"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Category"}),n.jsx("p",{className:"text-sm text-text-primary",children:s.category||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Reason"}),n.jsx("p",{className:"text-sm text-text-primary",children:s.reason||"N/A"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Product"}),n.jsx("p",{className:"text-sm text-text-primary",children:s.product||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Scheme"}),n.jsx("p",{className:"text-sm text-text-primary",children:s.scheme||"N/A"})]})]})]})})]}),s.complainant&&n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Complainant"})}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx("p",{className:"text-sm text-text-primary font-medium",children:s.complainant.full_name}),n.jsx("p",{className:"text-sm text-text-secondary",children:s.complainant.email}),n.jsx("p",{className:"text-sm text-text-secondary",children:s.complainant.phone})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Timeline"})}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-3 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Received"}),n.jsx("p",{className:"text-sm text-text-primary",children:ge(s.received_at).format("MMM D, YYYY h:mm A")})]}),s.acknowledged_at&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Acknowledged"}),n.jsx("p",{className:"text-sm text-text-primary",children:ge(s.acknowledged_at).format("MMM D, YYYY h:mm A")})]}),s.closed_at&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Closed"}),n.jsx("p",{className:"text-sm text-text-primary",children:ge(s.closed_at).format("MMM D, YYYY h:mm A")})]})]})})]}),n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Assignment"})}),n.jsx(ne,{children:n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Handler"}),n.jsx("p",{className:"text-sm text-text-primary",children:s.assigned_handler_name||"Unassigned"})]})})]})]})]})})]}):n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"Not Found"}),n.jsx("div",{className:"px-10 py-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"Complaint not found"}),n.jsx(le,{variant:"secondary",onClick:()=>t("/complaints"),className:"mt-4",children:"Back to Complaints"})]})})]})}function bn(){const e=Te(),[t,s]=A.useState(!1),[r,a]=A.useState(null),[i,c]=A.useState({description:"",category:"",reason:"",product:"",scheme:"",complainant_name:"",complainant_email:"",complainant_phone:""}),f=o=>q(this,null,function*(){var l,d;o.preventDefault(),a(null),s(!0);try{const u=yield H.post("/complaints",{description:i.description,category:i.category,reason:i.reason,product:i.product,scheme:i.scheme,complainant:{full_name:i.complainant_name,email:i.complainant_email,phone:i.complainant_phone}});e(`/complaints/${u.data.id}`)}catch(u){a(((d=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:d.detail)||"Failed to create complaint"),s(!1)}});return n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"Create New Complaint"}),n.jsxs("div",{className:"px-10 py-6 max-w-3xl",children:[r&&n.jsx("div",{className:"mb-6 rounded-lg border border-semantic-error/30 bg-semantic-error/5 p-3 text-sm text-semantic-error",children:r}),n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Complaint Information"})}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Description *"}),n.jsx("textarea",{className:"w-full min-h-[100px] rounded-lg border border-border bg-surface px-3 py-2 text-sm text-text-primary placeholder:text-text-muted outline-none transition focus:border-brand focus:ring-2 focus:ring-brand/15",value:i.description,onChange:o=>c(Z(U({},i),{description:o.target.value})),required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Category"}),n.jsx(W,{value:i.category,onChange:o=>c(Z(U({},i),{category:o.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Reason"}),n.jsx(W,{value:i.reason,onChange:o=>c(Z(U({},i),{reason:o.target.value}))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Product"}),n.jsx(W,{value:i.product,onChange:o=>c(Z(U({},i),{product:o.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Scheme"}),n.jsx(W,{value:i.scheme,onChange:o=>c(Z(U({},i),{scheme:o.target.value}))})]})]})]})})]}),n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Complainant Details"})}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Full Name *"}),n.jsx(W,{value:i.complainant_name,onChange:o=>c(Z(U({},i),{complainant_name:o.target.value})),required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Email"}),n.jsx(W,{type:"email",value:i.complainant_email,onChange:o=>c(Z(U({},i),{complainant_email:o.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Phone"}),n.jsx(W,{value:i.complainant_phone,onChange:o=>c(Z(U({},i),{complainant_phone:o.target.value}))})]})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(le,{variant:"secondary",onClick:()=>e("/complaints"),type:"button",children:"Cancel"}),n.jsx(le,{variant:"primary",type:"submit",disabled:t,children:t?"Creating...":"Create Complaint"})]})]})]})]})}function wn(){return n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"User Management"}),n.jsx("div",{className:"px-10 py-6",children:n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Users"})}),n.jsx(ne,{children:n.jsx("p",{className:"text-sm text-text-secondary mt-4",children:"User management interface - to be implemented"})})]})})]})}function jn(){return n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"Reference Data"}),n.jsx("div",{className:"px-10 py-6",children:n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Reference Data Management"})}),n.jsx(ne,{children:n.jsx("p",{className:"text-sm text-text-secondary mt-4",children:"Reference data management - to be implemented"})})]})})]})}function $t(){var h;const{user:e}=Ge(),[t,s]=A.useState(""),[r,a]=A.useState(""),[i,c]=A.useState(""),[f,o]=A.useState(null),[l,d]=A.useState(!1),u=g=>q(this,null,function*(){var m,y;if(g.preventDefault(),o(null),r!==i){o({type:"error",text:"New passwords do not match"});return}if(r.length<8){o({type:"error",text:"Password must be at least 8 characters"});return}d(!0);try{yield H.post("/auth/change-password",{current_password:t,new_password:r}),o({type:"success",text:"Password changed successfully"}),s(""),a(""),c("")}catch(x){o({type:"error",text:((y=(m=x==null?void 0:x.response)==null?void 0:m.data)==null?void 0:y.detail)||"Failed to change password"})}finally{d(!1)}});return n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"Profile & Settings"}),n.jsxs("div",{className:"px-10 py-6 max-w-2xl",children:[n.jsxs(ee,{className:"mb-6",children:[n.jsx(te,{children:n.jsx(se,{children:"User Information"})}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Name"}),n.jsx("div",{className:"text-sm text-text-primary",children:e==null?void 0:e.full_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Email"}),n.jsx("div",{className:"text-sm text-text-primary",children:e==null?void 0:e.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary mb-1",children:"Role"}),n.jsx("div",{className:"text-sm text-text-primary capitalize",children:(h=e==null?void 0:e.role)==null?void 0:h.replace("_"," ")})]})]})})]}),n.jsxs(ee,{children:[n.jsx(te,{children:n.jsx(se,{children:"Change Password"})}),n.jsxs(ne,{children:[f&&n.jsx("div",{className:`mt-4 rounded-lg border p-3 text-sm ${f.type==="success"?"border-semantic-success/30 bg-semantic-success/5 text-semantic-success":"border-semantic-error/30 bg-semantic-error/5 text-semantic-error"}`,children:f.text}),n.jsxs("form",{onSubmit:u,className:"space-y-4 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Current Password"}),n.jsx(W,{type:"password",value:t,onChange:g=>s(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"New Password"}),n.jsx(W,{type:"password",value:r,onChange:g=>a(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Confirm New Password"}),n.jsx(W,{type:"password",value:i,onChange:g=>c(g.target.value),required:!0})]}),n.jsx(le,{type:"submit",variant:"primary",disabled:l,children:l?"Changing...":"Change Password"})]})]})]})]})]})}var vn=Object.defineProperty,Ye=Object.getOwnPropertySymbols,fs=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable,Dt=(e,t,s)=>t in e?vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Nn=(e,t)=>{for(var s in t||(t={}))fs.call(t,s)&&Dt(e,s,t[s]);if(Ye)for(var s of Ye(t))ms.call(t,s)&&Dt(e,s,t[s]);return e},Cn=(e,t)=>{var s={};for(var r in e)fs.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&Ye)for(var r of Ye(e))t.indexOf(r)<0&&ms.call(e,r)&&(s[r]=e[r]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var we;(e=>{const t=class{constructor(o,l,d,u){if(this.version=o,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],o<t.MIN_VERSION||o>t.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let h=[];for(let m=0;m<this.size;m++)h.push(!1);for(let m=0;m<this.size;m++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),u==-1){let m=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const x=this.getPenaltyScore();x<m&&(u=y,m=x),this.applyMask(y)}}i(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}static encodeText(o,l){const d=e.QrSegment.makeSegments(o);return t.encodeSegments(d,l)}static encodeBinary(o,l){const d=e.QrSegment.makeBytes(o);return t.encodeSegments([d],l)}static encodeSegments(o,l,d=1,u=40,h=-1,g=!0){if(!(t.MIN_VERSION<=d&&d<=u&&u<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let m,y;for(m=d;;m++){const R=t.getNumDataCodewords(m,l)*8,O=f.getTotalBits(o,m);if(O<=R){y=O;break}if(m>=u)throw new RangeError("Data too long")}for(const R of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])g&&y<=t.getNumDataCodewords(m,R)*8&&(l=R);let x=[];for(const R of o){r(R.mode.modeBits,4,x),r(R.numChars,R.mode.numCharCountBits(m),x);for(const O of R.getData())x.push(O)}i(x.length==y);const P=t.getNumDataCodewords(m,l)*8;i(x.length<=P),r(0,Math.min(4,P-x.length),x),r(0,(8-x.length%8)%8,x),i(x.length%8==0);for(let R=236;x.length<P;R^=253)r(R,8,x);let T=[];for(;T.length*8<x.length;)T.push(0);return x.forEach((R,O)=>T[O>>>3]|=R<<7-(O&7)),new t(m,l,T,h)}getModule(o,l){return 0<=o&&o<this.size&&0<=l&&l<this.size&&this.modules[l][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),l=o.length;for(let d=0;d<l;d++)for(let u=0;u<l;u++)d==0&&u==0||d==0&&u==l-1||d==l-1&&u==0||this.drawAlignmentPattern(o[d],o[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const l=this.errorCorrectionLevel.formatBits<<3|o;let d=l;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const u=(l<<10|d)^21522;i(u>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,a(u,h));this.setFunctionModule(8,7,a(u,6)),this.setFunctionModule(8,8,a(u,7)),this.setFunctionModule(7,8,a(u,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,a(u,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,a(u,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,a(u,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let d=0;d<12;d++)o=o<<1^(o>>>11)*7973;const l=this.version<<12|o;i(l>>>18==0);for(let d=0;d<18;d++){const u=a(l,d),h=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(h,g,u),this.setFunctionModule(g,h,u)}}drawFinderPattern(o,l){for(let d=-4;d<=4;d++)for(let u=-4;u<=4;u++){const h=Math.max(Math.abs(u),Math.abs(d)),g=o+u,m=l+d;0<=g&&g<this.size&&0<=m&&m<this.size&&this.setFunctionModule(g,m,h!=2&&h!=4)}}drawAlignmentPattern(o,l){for(let d=-2;d<=2;d++)for(let u=-2;u<=2;u++)this.setFunctionModule(o+u,l+d,Math.max(Math.abs(u),Math.abs(d))!=1)}setFunctionModule(o,l,d){this.modules[l][o]=d,this.isFunction[l][o]=!0}addEccAndInterleave(o){const l=this.version,d=this.errorCorrectionLevel;if(o.length!=t.getNumDataCodewords(l,d))throw new RangeError("Invalid argument");const u=t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][l],h=t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][l],g=Math.floor(t.getNumRawDataModules(l)/8),m=u-g%u,y=Math.floor(g/u);let x=[];const P=t.reedSolomonComputeDivisor(h);for(let R=0,O=0;R<u;R++){let L=o.slice(O,O+y-h+(R<m?0:1));O+=L.length;const D=t.reedSolomonComputeRemainder(L,P);R<m&&L.push(0),x.push(L.concat(D))}let T=[];for(let R=0;R<x[0].length;R++)x.forEach((O,L)=>{(R!=y-h||L>=m)&&T.push(O[R])});return i(T.length==g),T}drawCodewords(o){if(o.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let u=0;u<this.size;u++)for(let h=0;h<2;h++){const g=d-h,y=(d+1&2)==0?this.size-1-u:u;!this.isFunction[y][g]&&l<o.length*8&&(this.modules[y][g]=a(o[l>>>3],7-(l&7)),l++)}}i(l==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let d=0;d<this.size;d++){let u;switch(o){case 0:u=(d+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=d%3==0;break;case 3:u=(d+l)%3==0;break;case 4:u=(Math.floor(d/3)+Math.floor(l/2))%2==0;break;case 5:u=d*l%2+d*l%3==0;break;case 6:u=(d*l%2+d*l%3)%2==0;break;case 7:u=((d+l)%2+d*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][d]&&u&&(this.modules[l][d]=!this.modules[l][d])}}getPenaltyScore(){let o=0;for(let h=0;h<this.size;h++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[h][x]==g?(m++,m==5?o+=t.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*t.PENALTY_N3),g=this.modules[h][x],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][h]==g?(m++,m==5?o+=t.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*t.PENALTY_N3),g=this.modules[x][h],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let g=0;g<this.size-1;g++){const m=this.modules[h][g];m==this.modules[h][g+1]&&m==this.modules[h+1][g]&&m==this.modules[h+1][g+1]&&(o+=t.PENALTY_N2)}let l=0;for(const h of this.modules)l=h.reduce((g,m)=>g+(m?1:0),l);const d=this.size*this.size,u=Math.ceil(Math.abs(l*20-d*10)/d)-1;return i(0<=u&&u<=9),o+=u*t.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let d=[6];for(let u=this.size-7;d.length<o;u-=l)d.splice(1,0,u);return d}}static getNumRawDataModules(o){if(o<t.MIN_VERSION||o>t.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*o+128)*o+64;if(o>=2){const d=Math.floor(o/7)+2;l-=(25*d-10)*d-55,o>=7&&(l-=36)}return i(208<=l&&l<=29648),l}static getNumDataCodewords(o,l){return Math.floor(t.getNumRawDataModules(o)/8)-t.ECC_CODEWORDS_PER_BLOCK[l.ordinal][o]*t.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let l=[];for(let u=0;u<o-1;u++)l.push(0);l.push(1);let d=1;for(let u=0;u<o;u++){for(let h=0;h<l.length;h++)l[h]=t.reedSolomonMultiply(l[h],d),h+1<l.length&&(l[h]^=l[h+1]);d=t.reedSolomonMultiply(d,2)}return l}static reedSolomonComputeRemainder(o,l){let d=l.map(u=>0);for(const u of o){const h=u^d.shift();d.push(0),l.forEach((g,m)=>d[m]^=t.reedSolomonMultiply(g,h))}return d}static reedSolomonMultiply(o,l){if(o>>>8||l>>>8)throw new RangeError("Byte out of range");let d=0;for(let u=7;u>=0;u--)d=d<<1^(d>>>7)*285,d^=(l>>>u&1)*o;return i(d>>>8==0),d}finderPenaltyCountPatterns(o){const l=o[1];i(l<=this.size*3);const d=l>0&&o[2]==l&&o[3]==l*3&&o[4]==l&&o[5]==l;return(d&&o[0]>=l*4&&o[6]>=l?1:0)+(d&&o[6]>=l*4&&o[0]>=l?1:0)}finderPenaltyTerminateAndCount(o,l,d){return o&&(this.finderPenaltyAddHistory(l,d),l=0),l+=this.size,this.finderPenaltyAddHistory(l,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(o,l){l[0]==0&&(o+=this.size),l.pop(),l.unshift(o)}};let s=t;s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=s;function r(o,l,d){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let u=l-1;u>=0;u--)d.push(o>>>u&1)}function a(o,l){return(o>>>l&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const c=class{constructor(o,l,d){if(this.mode=o,this.numChars=l,this.bitData=d,l<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(o){let l=[];for(const d of o)r(d,8,l);return new c(c.Mode.BYTE,o.length,l)}static makeNumeric(o){if(!c.isNumeric(o))throw new RangeError("String contains non-numeric characters");let l=[];for(let d=0;d<o.length;){const u=Math.min(o.length-d,3);r(parseInt(o.substr(d,u),10),u*3+1,l),d+=u}return new c(c.Mode.NUMERIC,o.length,l)}static makeAlphanumeric(o){if(!c.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],d;for(d=0;d+2<=o.length;d+=2){let u=c.ALPHANUMERIC_CHARSET.indexOf(o.charAt(d))*45;u+=c.ALPHANUMERIC_CHARSET.indexOf(o.charAt(d+1)),r(u,11,l)}return d<o.length&&r(c.ALPHANUMERIC_CHARSET.indexOf(o.charAt(d)),6,l),new c(c.Mode.ALPHANUMERIC,o.length,l)}static makeSegments(o){return o==""?[]:c.isNumeric(o)?[c.makeNumeric(o)]:c.isAlphanumeric(o)?[c.makeAlphanumeric(o)]:[c.makeBytes(c.toUtf8ByteArray(o))]}static makeEci(o){let l=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,l);else if(o<16384)r(2,2,l),r(o,14,l);else if(o<1e6)r(6,3,l),r(o,21,l);else throw new RangeError("ECI assignment value out of range");return new c(c.Mode.ECI,0,l)}static isNumeric(o){return c.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return c.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,l){let d=0;for(const u of o){const h=u.mode.numCharCountBits(l);if(u.numChars>=1<<h)return 1/0;d+=4+h+u.bitData.length}return d}static toUtf8ByteArray(o){o=encodeURI(o);let l=[];for(let d=0;d<o.length;d++)o.charAt(d)!="%"?l.push(o.charCodeAt(d)):(l.push(parseInt(o.substr(d+1,2),16)),d+=2);return l}};let f=c;f.NUMERIC_REGEX=/^[0-9]*$/,f.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,f.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=f})(we||(we={}));(e=>{(t=>{const s=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};let r=s;r.LOW=new s(0,1),r.MEDIUM=new s(1,0),r.QUARTILE=new s(2,3),r.HIGH=new s(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(we||(we={}));(e=>{(t=>{const s=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let r=s;r.NUMERIC=new s(1,[10,12,14]),r.ALPHANUMERIC=new s(2,[9,11,13]),r.BYTE=new s(4,[8,16,16]),r.KANJI=new s(8,[8,10,12]),r.ECI=new s(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(we||(we={}));var Pe=we;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var En={L:Pe.QrCode.Ecc.LOW,M:Pe.QrCode.Ecc.MEDIUM,Q:Pe.QrCode.Ecc.QUARTILE,H:Pe.QrCode.Ecc.HIGH},Sn=128,Rn="L",_n="#FFFFFF",An="#000000",Mn=!1,hs=4,kn=.1;function On(e,t=0){const s=[];return e.forEach(function(r,a){let i=null;r.forEach(function(c,f){if(!c&&i!==null){s.push(`M${i+t} ${a+t}h${f-i}v1H${i+t}z`),i=null;return}if(f===r.length-1){if(!c)return;i===null?s.push(`M${f+t},${a+t} h1v1H${f+t}z`):s.push(`M${i+t},${a+t} h${f+1-i}v1H${i+t}z`);return}c&&i===null&&(i=f)})}),s.join("")}function Pn(e,t){return e.slice().map((s,r)=>r<t.y||r>=t.y+t.h?s:s.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function Tn(e,t,s,r){if(r==null)return null;const a=s?hs:0,i=e.length+a*2,c=Math.floor(t*kn),f=i/t,o=(r.width||c)*f,l=(r.height||c)*f,d=r.x==null?e.length/2-o/2:r.x*f,u=r.y==null?e.length/2-l/2:r.y*f;let h=null;if(r.excavate){let g=Math.floor(d),m=Math.floor(u),y=Math.ceil(o+d-g),x=Math.ceil(l+u-m);h={x:g,y:m,w:y,h:x}}return{x:d,y:u,h:l,w:o,excavation:h}}(function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0})();function Ln(e){const t=e,{value:s,size:r=Sn,level:a=Rn,bgColor:i=_n,fgColor:c=An,includeMargin:f=Mn,imageSettings:o}=t,l=Cn(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=Pe.QrCode.encodeText(s,En[a]).getModules();const u=f?hs:0,h=d.length+u*2,g=Tn(d,r,f,o);let m=null;o!=null&&g!=null&&(g.excavation!=null&&(d=Pn(d,g.excavation)),m=Oe.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+u,y:g.y+u,preserveAspectRatio:"none"}));const y=On(d,u);return Oe.createElement("svg",Nn({height:r,width:r,viewBox:`0 0 ${h} ${h}`},l),Oe.createElement("path",{fill:i,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Oe.createElement("path",{fill:c,d:y,shapeRendering:"crispEdges"}),m)}function $n(){const{token:e,role:t,name:s,login:r,logout:a,mustChangePassword:i,ready:c}=Ge(),[f,o]=A.useState(""),[l,d]=A.useState(""),[u,h]=A.useState(!1),[g,m]=A.useState(""),[y,x]=A.useState(""),[P,T]=A.useState(null),[R,O]=A.useState(!1),[L,D]=A.useState(!1),[z,oe]=A.useState(null),[re,$]=A.useState(null),[M,G]=A.useState(0),V=Te(),E=Ft();A.useEffect(()=>{c&&(e||E.pathname!=="/"&&V("/",{replace:!0}))},[c,e,E.pathname,V]),A.useEffect(()=>{e&&i&&E.pathname!=="/profile"&&V("/profile",{replace:!0,state:{forced:!0}})},[e,i,E.pathname,V]);const v=()=>q(this,null,function*(){var j,S;T(null);try{const N=yield r(f,l,R?g:void 0,R?y:void 0);O(!1),m(""),x(""),N!=null&&N.mfa_enrollment_required?(G(N.mfa_remaining_skips||0),yield b()):V("/")}catch(N){const k=(S=(j=N==null?void 0:N.response)==null?void 0:j.data)==null?void 0:S.detail;k==="MFA code required"||(k==null?void 0:k.code)==="mfa_required"?(O(!0),T("Enter your 6-digit MFA code or a recovery code.")):T(k==="Invalid recovery code"||k==="Invalid MFA code"||k==="Invalid code"?"Invalid code. Please try again.":"Login failed. Check your credentials.")}}),b=()=>q(this,null,function*(){var j,S;try{const N=yield H.post("/auth/mfa/enroll");oe(N.data),$(null),D(!0)}catch(N){T(((S=(j=N==null?void 0:N.response)==null?void 0:j.data)==null?void 0:S.detail)||"Could not start MFA enrollment")}}),C=()=>q(this,null,function*(){var j,S;try{const N=yield H.post("/auth/mfa/verify",{code:g});$(N.data.recovery_codes),D(!1),m(""),G(0),V("/")}catch(N){T(((S=(j=N==null?void 0:N.response)==null?void 0:j.data)==null?void 0:S.detail)||"Invalid code")}}),w=()=>q(this,null,function*(){var j,S;try{const N=yield H.post("/auth/mfa/skip");G(N.data.remaining_skips),D(!1),oe(null)}catch(N){T(((S=(j=N==null?void 0:N.response)==null?void 0:j.data)==null?void 0:S.detail)||"Cannot skip MFA")}});return e?n.jsx(ln,{children:n.jsxs(Es,{children:[n.jsx(ue,{path:"/",element:n.jsx(xn,{})}),n.jsx(ue,{path:"/complaints",element:n.jsx(gn,{})}),n.jsx(ue,{path:"/create",element:n.jsx(bn,{})}),n.jsx(ue,{path:"/complaints/:id",element:n.jsx(yn,{})}),n.jsx(ue,{path:"/profile",element:n.jsx($t,{})}),n.jsx(ue,{path:"/users",element:n.jsx(wn,{})}),n.jsx(ue,{path:"/reference",element:n.jsx(jn,{})}),n.jsx(ue,{path:"/settings",element:n.jsx($t,{})})]})}):n.jsxs("div",{className:"min-h-screen bg-app flex items-center justify-center p-4",children:[n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"rounded-card border border-border bg-surface shadow-card p-8",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("h1",{className:"text-2xl font-semibold text-text-primary mb-2",children:"Sign in to Compass"}),n.jsx("p",{className:"text-sm text-text-secondary",children:"Use your credentials to access the complaints workspace"})]}),P&&n.jsx("div",{className:"mb-4 rounded-lg border border-semantic-error/30 bg-semantic-error/5 p-3 text-sm text-semantic-error",children:P}),n.jsxs("form",{onSubmit:j=>{j.preventDefault(),v()},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Email"}),n.jsx(W,{type:"email",value:f,onChange:j=>o(j.target.value),placeholder:"you@example.com",autoComplete:"email",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(W,{type:u?"text":"password",value:l,onChange:j=>d(j.target.value),placeholder:"",autoComplete:"current-password",required:!0}),n.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary transition",children:u?n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.75,children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),R&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"MFA Code (6 digits)"}),n.jsx(W,{type:"text",value:g,onChange:j=>m(j.target.value),placeholder:"123456",maxLength:6})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Recovery Code (optional)"}),n.jsx(W,{type:"text",value:y,onChange:j=>x(j.target.value),placeholder:"recovery-code"})]})]}),n.jsx(le,{type:"submit",variant:"primary",className:"w-full mt-6",children:"Sign in"})]})]})}),n.jsxs(cn,{open:L,onClose:M>0?()=>D(!1):()=>{},children:[n.jsx(dn,{onClose:M>0?()=>D(!1):void 0,children:"Set up Multi-Factor Authentication"}),n.jsx(un,{children:n.jsxs("div",{className:"space-y-4",children:[M<=0?n.jsx("div",{className:"rounded-lg border border-semantic-error/30 bg-semantic-error/5 p-3 text-sm text-semantic-error",children:"You must enable MFA to continue."}):n.jsxs("p",{className:"text-sm text-text-secondary",children:["We recommend enabling MFA for enhanced security. You can skip up to ",M," more time(s)."]}),z?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-text-primary mb-2",children:"Scan with your authenticator app"}),n.jsx("div",{className:"flex justify-center p-4 bg-app rounded-lg",children:n.jsx(Ln,{value:z.otpauth_url,size:180})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-text-primary mb-1",children:"Manual entry secret"}),n.jsx("code",{className:"block text-xs bg-app p-2 rounded border border-border font-mono",children:z.secret})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-text-primary",children:"Enter 6-digit code"}),n.jsx(W,{type:"text",value:g,onChange:j=>m(j.target.value),placeholder:"123456",maxLength:6})]}),re&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-text-primary mb-2",children:"Recovery codes (store securely)"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:re.map(j=>n.jsx("code",{className:"text-xs bg-app p-2 rounded border border-border font-mono",children:j},j))})]})]}):n.jsx("p",{className:"text-sm text-text-muted",children:"Preparing enrollment..."})]})}),n.jsxs(fn,{children:[n.jsx(le,{variant:"secondary",onClick:w,disabled:M<=0,children:"Skip for now"}),n.jsx(le,{variant:"primary",onClick:C,disabled:!g||g.length<6,children:"Verify & Enable"})]})]})]})}at.createRoot(document.getElementById("root")).render(n.jsx(Oe.StrictMode,{children:n.jsx(Ss,{children:n.jsx(an,{children:n.jsx($n,{})})})}))});export default Dn();
